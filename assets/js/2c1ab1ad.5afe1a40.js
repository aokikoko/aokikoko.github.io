"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5803],{3905:function(e,n,t){t.d(n,{Zo:function(){return d},kt:function(){return k}});var o=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=o.createContext({}),i=function(e){var n=o.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},d=function(e){var n=i(e.components);return o.createElement(s.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},p=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,d=a(e,["components","mdxType","originalType","parentName"]),p=i(t),k=r,m=p["".concat(s,".").concat(k)]||p[k]||u[k]||l;return t?o.createElement(m,c(c({ref:n},d),{},{components:t})):o.createElement(m,c({ref:n},d))}));function k(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,c=new Array(l);c[0]=p;var a={};for(var s in n)hasOwnProperty.call(n,s)&&(a[s]=n[s]);a.originalType=e,a.mdxType="string"==typeof e?e:r,c[1]=a;for(var i=2;i<l;i++)c[i]=t[i];return o.createElement.apply(null,c)}return o.createElement.apply(null,t)}p.displayName="MDXCreateElement"},74309:function(e,n,t){t.r(n),t.d(n,{contentTitle:function(){return s},default:function(){return p},frontMatter:function(){return a},metadata:function(){return i},toc:function(){return d}});var o=t(87462),r=t(63366),l=(t(67294),t(3905)),c=["components"],a={title:"[DevOps] \u5bb9\u5668\u6280\u672f\u7ba1\u7406\u5de5\u5177-Docker(\u4e0b)",sidebar_position:7},s=void 0,i={unversionedId:"DevOps/docker3",id:"DevOps/docker3",title:"[DevOps] \u5bb9\u5668\u6280\u672f\u7ba1\u7406\u5de5\u5177-Docker(\u4e0b)",description:"\u5b98\u65b9\u955c\u50cf\u4ed3\u5e93\u4ecb\u7ecd",source:"@site/docs/DevOps/docker3.md",sourceDirName:"DevOps",slug:"/DevOps/docker3",permalink:"/docs/DevOps/docker3",editUrl:"https://github.com/aokikoko/aokikoko.github.io/blob/main/website/docs/DevOps/docker3.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{title:"[DevOps] \u5bb9\u5668\u6280\u672f\u7ba1\u7406\u5de5\u5177-Docker(\u4e0b)",sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"[DevOps] \u5bb9\u5668\u6280\u672f\u7ba1\u7406\u5de5\u5177-Docker(\u4e2d)",permalink:"/docs/DevOps/docker2"},next:{title:"[Http] Options\u8bf7\u6c42\u7684\u89e3\u91ca",permalink:"/docs/Http/OptionsRequest"}},d=[{value:"\u5b98\u65b9\u955c\u50cf\u4ed3\u5e93\u4ecb\u7ecd",id:"\u5b98\u65b9\u955c\u50cf\u4ed3\u5e93\u4ecb\u7ecd",children:[{value:"\u955c\u50cf\u4ed3\u5e93\u5206\u7c7b",id:"\u955c\u50cf\u4ed3\u5e93\u5206\u7c7b",children:[],level:3},{value:"\u5b98\u65b9\u955c\u50cf\u4ed3\u5e93(\u516c\u6709\u4ed3\u5e93)",id:"\u5b98\u65b9\u955c\u50cf\u4ed3\u5e93\u516c\u6709\u4ed3\u5e93",children:[],level:3},{value:"dockerhub \u955c\u50cf\u4e0a\u4f20, \u4e0b\u8f7d",id:"dockerhub-\u955c\u50cf\u4e0a\u4f20-\u4e0b\u8f7d",children:[],level:3}],level:2},{value:"\u955c\u50cf\u52a0\u901f",id:"\u955c\u50cf\u52a0\u901f",children:[{value:"\u6c38\u4e45\u914d\u7f6e\u65b9\u6cd5",id:"\u6c38\u4e45\u914d\u7f6e\u65b9\u6cd5",children:[],level:3},{value:"\u963f\u91cc\u4e91\u52a0\u901f\u5668\u65b9\u6cd5",id:"\u963f\u91cc\u4e91\u52a0\u901f\u5668\u65b9\u6cd5",children:[],level:3}],level:2},{value:"docker \u672c\u5730\u5bb9\u5668\u955c\u50cf\u4ed3\u5e93",id:"docker-\u672c\u5730\u5bb9\u5668\u955c\u50cf\u4ed3\u5e93",children:[],level:2},{value:"docker \u5bb9\u5668\u7f51\u7edc",id:"docker-\u5bb9\u5668\u7f51\u7edc",children:[{value:"\u672c\u5730\u7f51\u7edc",id:"\u672c\u5730\u7f51\u7edc",children:[],level:3}],level:2}],u={toc:d};function p(e){var n=e.components,t=(0,r.Z)(e,c);return(0,l.kt)("wrapper",(0,o.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"\u5b98\u65b9\u955c\u50cf\u4ed3\u5e93\u4ecb\u7ecd"},"\u5b98\u65b9\u955c\u50cf\u4ed3\u5e93\u4ecb\u7ecd"),(0,l.kt)("h3",{id:"\u955c\u50cf\u4ed3\u5e93\u5206\u7c7b"},"\u955c\u50cf\u4ed3\u5e93\u5206\u7c7b"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u516c\u6709\u4ed3\u5e93"),(0,l.kt)("li",{parentName:"ul"},"\u79c1\u6709\u4ed3\u5e93")),(0,l.kt)("h3",{id:"\u5b98\u65b9\u955c\u50cf\u4ed3\u5e93\u516c\u6709\u4ed3\u5e93"},"\u5b98\u65b9\u955c\u50cf\u4ed3\u5e93(\u516c\u6709\u4ed3\u5e93)"),(0,l.kt)("p",null,"\u5c5e\u4e8e\u516c\u6709\u4ed3\u5e93"),(0,l.kt)("p",null,"\u7f51\u5740\uff1ahub.docker.com \u7f51\u7ad9\u540d\u79f0\uff1a dockerhub"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"linux \u547d\u4ee4\u884c\u65b9\u5f0f\u767b\u5f55")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"[root@bogon ~]# docker --help\n[root@bogon ~]# docker login hub.docker.com\n[root@bogon ~]# docker login\nLogin with your Docker ID to push and pull images from Docker Hub. If you don't have a\nDocker ID, head over to https://hub.docker.com to create one.\nUsername: smartgodocker\nPassword:\nWARNING! Your password will be stored unencrypted in /root/.docker/config.json.\nConfigure a credential helper to remove this warning. See\nhttps://docs.docker.com/engine/reference/commandline/login/#credentials-store\nLogin Succeeded\n")),(0,l.kt)("h3",{id:"dockerhub-\u955c\u50cf\u4e0a\u4f20-\u4e0b\u8f7d"},"dockerhub \u955c\u50cf\u4e0a\u4f20, \u4e0b\u8f7d"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u955c\u50cf\u4e0a\u4f20")),(0,l.kt)("p",null,"\u7ed9\u9700\u8981\u4e0a\u4f20\u5230\u516c\u6709\u4ed3\u5e93\u7684\u5bb9\u5668\u955c\u50cf\u6253\u6807\u8bb0"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"[root@bogon ~]# docker images\nREPOSITORY TAG IMAGE ID CREATED SIZE\ncentos latest 9f38484d220f 6 weeks ago 202MB\n[root@bogon ~]# docker tag centos:latest smartgodocker/centos:v1\n[root@bogon ~]# docker images\nREPOSITORY TAG IMAGE ID CREATED SIZE\ncentos latest 9f38484d220f 6 weeks ago\n202MB\nsmartgodocker/centos v1 9f38484d220f 6 weeks ago\n202MB\n")),(0,l.kt)("p",null,"\u628a\u5df2\u6253\u6807\u8bb0\u7684\u5bb9\u5668\u955c\u50cf\u4e0a\u4f20\u5230\u516c\u6709\u4ed3\u5e93"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"[root@bogon ~]# docker push smartgodocker/centos:v1\nThe push refers to repository [docker.io/smartgodocker/centos]\nd69483a6face: Mounted from library/centos\nv1: digest: sha256:ca58fe458b8d94bc6e3072f1cfbd334855858e05e1fd633aa07cf7f82b048e66\nsize: 529\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u955c\u50cf\u4e0b\u8f7d")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"[root@bogon ~]# docker pull smartgodocker/centos-nginx:v1\nv1: Pulling from smartgodocker/centos-nginx\n8ba884070f61: Already exists\nb49e39a48ce9: Pull complete\nee8f9e32e5d1: Pull complete\n76444f96007d: Pull complete\n3a3e79f9d90d: Pull complete\nDigest: sha256:b51c09890e5dca970a846012c05123b8eeab9e55a3ea7b94408ae42c718389d9\nStatus: Downloaded newer image for smartgodocker/centos-nginx:v1\n[root@bogon ~]# docker images\nREPOSITORY TAG IMAGE ID CREATED\nSIZE\nsmartgodocker/centos-nginx v1 cf23c20ff2cd 2 hours ago\n466MB\ncentos latest 9f38484d220f 6 weeks ago\n202MB\nsmartgodocker/centos v1 9f38484d220f 6 weeks ago\n202MB\n")),(0,l.kt)("h2",{id:"\u955c\u50cf\u52a0\u901f"},"\u955c\u50cf\u52a0\u901f"),(0,l.kt)("h3",{id:"\u6c38\u4e45\u914d\u7f6e\u65b9\u6cd5"},"\u6c38\u4e45\u914d\u7f6e\u65b9\u6cd5"),(0,l.kt)("p",null,"\u7b2c\u4e00\u6b65\uff1a\u4fee\u6539/usr/lib/systemd/system/docker.service"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock\n#\u628a\u4e0a\u8ff0\u884c\u65f6\u884c\u4fee\u6539\uff0c\u4fee\u6539\u5982\u4e0b\uff1a\nExecStart=/usr/bin/dockerd\n")),(0,l.kt)("p",null,"\u7b2c\u4e8c\u6b65\uff1a\u5728/etc/docker/daemon.json"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'[root@bogon ~]# cat /etc/docker/daemon.json\n{\n"registry-mirrors": ["https://registry.docker-cn.com"]\n}\n')),(0,l.kt)("p",null,"\u7b2c\u4e09\u6b65\uff1a\u91cd\u542f docker daemon"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"[root@bogon ~]# systemctl daemon-reload\n[root@bogon ~]# systemctl restart docker\n")),(0,l.kt)("p",null,"\u7b2c\u56db\u6b65\uff1a\u9a8c\u8bc1\u52a0\u901f\u5668\u662f\u5426\u53ef\u7528"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"[root@bogon ~]# docker pull ansible/centos7-ansible:latest\nlatest: Pulling from ansible/centos7-ansible\n45a2e645736c: Downloading 29.48MB/70.39MB\n1c3acf573616: Downloading 30.1MB/59.73MB\nedcb61e55ccc: Download complete\ncbae31bad30a: Download complete\naacbdb1e2a62: Download complete\nfdeea4fb835c: Downloading 48.93MB/69.68MB\n")),(0,l.kt)("h3",{id:"\u963f\u91cc\u4e91\u52a0\u901f\u5668\u65b9\u6cd5"},"\u963f\u91cc\u4e91\u52a0\u901f\u5668\u65b9\u6cd5"),(0,l.kt)("p",null,"\u4fee\u6539/etc/docker/daemon.json"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'[root@bogon ~]# cat /etc/docker/daemon.json\n{\n"registry-mirrors":\n["https://\u963f\u91cc\u7ed9\u7684\u5730\u5740.mirror.aliyuncs.com","https://registry.docker-cn.com"]\n}\n')),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"docker-\u672c\u5730\u5bb9\u5668\u955c\u50cf\u4ed3\u5e93"},"docker \u672c\u5730\u5bb9\u5668\u955c\u50cf\u4ed3\u5e93"),(0,l.kt)("p",null,"TODO"),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"docker-\u5bb9\u5668\u7f51\u7edc"},"docker \u5bb9\u5668\u7f51\u7edc"),(0,l.kt)("h3",{id:"\u672c\u5730\u7f51\u7edc"},"\u672c\u5730\u7f51\u7edc"),(0,l.kt)("p",null,"\u672c\u5730\u7f51\u7edc\u7c7b\u578b:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"bridge NAT\u6a21\u5f0f, \u53ef\u4f7f\u5bb9\u5668\u8fde\u63a5\u5916\u7f51"),(0,l.kt)("li",{parentName:"ul"},"host \u4e0e\u4e3b\u673a\u5171\u4eab\u7f51\u7edc, \u53ef\u4f7f\u5bb9\u5668\u8fde\u63a5\u5916\u7f51"),(0,l.kt)("li",{parentName:"ul"},"none \u5bb9\u5668\u4ec5\u6709lo\u7f51\u5361, \u65e0\u6cd5\u8fde\u63a5\u5916\u7f51")))}p.isMDXComponent=!0}}]);