"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9668],{3905:function(e,t,n){n.d(t,{Zo:function(){return k},kt:function(){return m}});var a=n(67294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},k=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,k=i(e,["components","mdxType","originalType","parentName"]),c=p(n),m=l,u=c["".concat(s,".").concat(m)]||c[m]||d[m]||r;return n?a.createElement(u,o(o({ref:t},k),{},{components:n})):a.createElement(u,o({ref:t},k))}));function m(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,o=new Array(r);o[0]=c;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:l,o[1]=i;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},42776:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return s},default:function(){return c},frontMatter:function(){return i},metadata:function(){return p},toc:function(){return k}});var a=n(87462),l=n(63366),r=(n(67294),n(3905)),o=["components"],i={title:"[Node] Node.js \u7f51\u7edc\u901a\u4fe1",sidebar_position:6},s=void 0,p={unversionedId:"Node.js/http-protocol",id:"Node.js/http-protocol",title:"[Node] Node.js \u7f51\u7edc\u901a\u4fe1",description:"-----",source:"@site/docs/Node.js/http-protocol.md",sourceDirName:"Node.js",slug:"/Node.js/http-protocol",permalink:"/docs/Node.js/http-protocol",editUrl:"https://github.com/aokikoko/aokikoko.github.io/blob/main/website/docs/Node.js/http-protocol.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{title:"[Node] Node.js \u7f51\u7edc\u901a\u4fe1",sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"[Node] http",permalink:"/docs/Node.js/http"},next:{title:"[Node] \u7f51\u7edc\u4e03\u5c42\u6a21\u578bOSI",permalink:"/docs/Node.js/osi"}},k=[{value:"\u7b2c1\u7ae0 \u7f51\u7edc\u901a\u4fe1\u76f8\u5173\u6982\u5ff5",id:"\u7b2c1\u7ae0-\u7f51\u7edc\u901a\u4fe1\u76f8\u5173\u6982\u5ff5",children:[{value:"\u7f51\u7edc\u4e03\u5c42\u6a21\u578b",id:"\u7f51\u7edc\u4e03\u5c42\u6a21\u578b",children:[],level:3},{value:"mac \u5730\u5740",id:"mac-\u5730\u5740",children:[],level:3},{value:"IP \u5730\u5740",id:"ip-\u5730\u5740",children:[],level:3},{value:"Port \u7aef\u53e3\u53f7",id:"port-\u7aef\u53e3\u53f7",children:[],level:3},{value:"\u57df\u540d",id:"\u57df\u540d",children:[],level:3},{value:"TCP \u548c UDP",id:"tcp-\u548c-udp",children:[],level:3},{value:"\u4ec0\u4e48\u662f Socket",id:"\u4ec0\u4e48\u662f-socket",children:[],level:3}],level:2},{value:"\u7b2c2\u7ae0 \u6784\u5efa TCP \u670d\u52a1",id:"\u7b2c2\u7ae0-\u6784\u5efa-tcp-\u670d\u52a1",children:[{value:"\u57fa\u672c\u793a\u4f8b",id:"\u57fa\u672c\u793a\u4f8b",children:[],level:3}],level:2},{value:"\u76f8\u5173 API",id:"\u76f8\u5173-api",children:[{value:"\u670d\u52a1\u7aef\u76f8\u5173 API",id:"\u670d\u52a1\u7aef\u76f8\u5173-api",children:[],level:3},{value:"\u5957\u63a5\u5b57 Socket \u76f8\u5173 API",id:"\u5957\u63a5\u5b57-socket-\u76f8\u5173-api",children:[],level:3},{value:"\u5176\u5b83 API",id:"\u5176\u5b83-api",children:[],level:3}],level:2},{value:"\u6848\u4f8b\uff1a\u804a\u5929\u5ba4",id:"\u6848\u4f8b\u804a\u5929\u5ba4",children:[{value:"\u521d\u59cb\u5316",id:"\u521d\u59cb\u5316",children:[],level:3},{value:"\u6838\u5fc3\u9700\u6c42",id:"\u6838\u5fc3\u9700\u6c42",children:[],level:3},{value:"\u6570\u636e\u683c\u5f0f\u8bbe\u8ba1\uff08\u8bed\u8a00\u534f\u8bae\uff09",id:"\u6570\u636e\u683c\u5f0f\u8bbe\u8ba1\u8bed\u8a00\u534f\u8bae",children:[],level:3},{value:"\u7528\u6237\u767b\u5f55",id:"\u7528\u6237\u767b\u5f55",children:[],level:3},{value:"\u7fa4\u53d1\u6d88\u606f",id:"\u7fa4\u53d1\u6d88\u606f",children:[],level:3},{value:"\u79c1\u804a",id:"\u79c1\u804a",children:[],level:3},{value:"\u4e0a\u7ebf|\u79bb\u7ebf\u901a\u77e5",id:"\u4e0a\u7ebf\u79bb\u7ebf\u901a\u77e5",children:[],level:3}],level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",children:[],level:2},{value:"\u7b2c3\u7ae0 \u6784\u5efa UDP \u670d\u52a1",id:"\u7b2c3\u7ae0-\u6784\u5efa-udp-\u670d\u52a1",children:[{value:"UDP \u7b80\u4ecb",id:"udp-\u7b80\u4ecb",children:[],level:3},{value:"TCP \u548c UDP",id:"tcp-\u548c-udp-1",children:[],level:3},{value:"UDP \u7684\u4e09\u79cd\u4f20\u64ad\u65b9\u5f0f",id:"udp-\u7684\u4e09\u79cd\u4f20\u64ad\u65b9\u5f0f",children:[],level:3},{value:"UDP \u4e00\u5bf9\u591a\u901a\u4fe1\u573a\u666f",id:"udp-\u4e00\u5bf9\u591a\u901a\u4fe1\u573a\u666f",children:[],level:3}],level:2},{value:"Node \u4e2d\u7684 dgram \u6a21\u5757",id:"node-\u4e2d\u7684-dgram-\u6a21\u5757",children:[{value:"Socket \u65b9\u6cd5",id:"socket-\u65b9\u6cd5",children:[],level:3},{value:"Socket \u4e8b\u4ef6",id:"socket-\u4e8b\u4ef6",children:[],level:3}],level:2},{value:"\u4f7f\u7528 Node \u5b9e\u73b0 UDP \u5355\u64ad",id:"\u4f7f\u7528-node-\u5b9e\u73b0-udp-\u5355\u64ad",children:[{value:"\u670d\u52a1\u7aef",id:"\u670d\u52a1\u7aef",children:[],level:3},{value:"\u5ba2\u6237\u7aef",id:"\u5ba2\u6237\u7aef",children:[],level:3}],level:2},{value:"\u4f7f\u7528 Node \u5b9e\u73b0 UDP \u5e7f\u64ad",id:"\u4f7f\u7528-node-\u5b9e\u73b0-udp-\u5e7f\u64ad",children:[{value:"\u670d\u52a1\u7aef",id:"\u670d\u52a1\u7aef-1",children:[],level:3},{value:"\u5ba2\u6237\u7aef",id:"\u5ba2\u6237\u7aef-1",children:[],level:3}],level:2},{value:"\u4f7f\u7528 Node \u5b9e\u73b0 UDP \u7ec4\u64ad",id:"\u4f7f\u7528-node-\u5b9e\u73b0-udp-\u7ec4\u64ad",children:[{value:"\u670d\u52a1\u7aef",id:"\u670d\u52a1\u7aef-2",children:[],level:3},{value:"\u5ba2\u6237\u7aef",id:"\u5ba2\u6237\u7aef-2",children:[],level:3}],level:2},{value:"Node \u4e2d\u7684 http \u6a21\u5757",id:"node-\u4e2d\u7684-http-\u6a21\u5757",children:[{value:"Server \u5b9e\u4f8b",id:"server-\u5b9e\u4f8b",children:[],level:3},{value:"\u8bf7\u6c42\u5bf9\u8c61",id:"\u8bf7\u6c42\u5bf9\u8c61",children:[],level:3},{value:"\u54cd\u5e94\u5bf9\u8c61",id:"\u54cd\u5e94\u5bf9\u8c61",children:[],level:3}],level:2},{value:"\u4f7f\u7528 Node \u6784\u5efa http \u670d\u52a1",id:"\u4f7f\u7528-node-\u6784\u5efa-http-\u670d\u52a1",children:[{value:"Hello World",id:"hello-world",children:[],level:3},{value:"\u6839\u636e\u4e0d\u540c url \u5904\u7406\u4e0d\u540c\u8bf7\u6c42",id:"\u6839\u636e\u4e0d\u540c-url-\u5904\u7406\u4e0d\u540c\u8bf7\u6c42",children:[],level:3},{value:"\u54cd\u5e94 HTML \u5185\u5bb9",id:"\u54cd\u5e94-html-\u5185\u5bb9",children:[],level:3},{value:"\u5904\u7406\u9875\u9762\u4e2d\u7684\u9759\u6001\u8d44\u6e90",id:"\u5904\u7406\u9875\u9762\u4e2d\u7684\u9759\u6001\u8d44\u6e90",children:[],level:3},{value:"\u7edf\u4e00\u5904\u7406\u9875\u9762\u4e2d\u7684\u9759\u6001\u8d44\u6e90",id:"\u7edf\u4e00\u5904\u7406\u9875\u9762\u4e2d\u7684\u9759\u6001\u8d44\u6e90",children:[],level:3}],level:2},{value:"\u4f7f\u7528\u6a21\u677f\u5f15\u64ce\u5904\u7406\u52a8\u6001\u9875\u9762",id:"\u4f7f\u7528\u6a21\u677f\u5f15\u64ce\u5904\u7406\u52a8\u6001\u9875\u9762",children:[{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528",children:[],level:3},{value:"\u7ed3\u5408 http \u670d\u52a1\u6e32\u67d3\u9875\u9762",id:"\u7ed3\u5408-http-\u670d\u52a1\u6e32\u67d3\u9875\u9762",children:[],level:3}],level:2},{value:"\u5b9e\u73b0\u4e00\u4e2a\u9759\u6001\u6587\u4ef6\u670d\u52a1\u5668",id:"\u5b9e\u73b0\u4e00\u4e2a\u9759\u6001\u6587\u4ef6\u670d\u52a1\u5668",children:[],level:2},{value:"\u4f7f\u7528\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e",id:"\u4f7f\u7528\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e",children:[],level:2},{value:"\u5b9e\u73b0\u4e00\u4e2a\u7559\u8a00\u672c\u6848\u4f8b",id:"\u5b9e\u73b0\u4e00\u4e2a\u7559\u8a00\u672c\u6848\u4f8b",children:[],level:2},{value:"\u7b2c\u4e09\u65b9 HTTP \u670d\u52a1\u6846\u67b6",id:"\u7b2c\u4e09\u65b9-http-\u670d\u52a1\u6846\u67b6",children:[],level:2},{value:"\u5360\u4f4d",id:"\u5360\u4f4d",children:[{value:"WebSocket \u4ecb\u7ecd",id:"websocket-\u4ecb\u7ecd",children:[{value:"\u4e3a\u4ec0\u4e48\u9700\u8981 WebSocket",id:"\u4e3a\u4ec0\u4e48\u9700\u8981-websocket",children:[],level:4},{value:"\u4ec0\u4e48\u662f WebSocket",id:"\u4ec0\u4e48\u662f-websocket",children:[],level:4}],level:3},{value:"\u5ba2\u6237\u7aef WebSocket",id:"\u5ba2\u6237\u7aef-websocket",children:[{value:"\u57fa\u672c\u793a\u4f8b",id:"\u57fa\u672c\u793a\u4f8b-1",children:[],level:4},{value:"\u5e38\u7528 API",id:"\u5e38\u7528-api",children:[{value:"WebSocket \u6784\u9020\u51fd\u6570",id:"websocket-\u6784\u9020\u51fd\u6570",children:[],level:5},{value:"\u4e8b\u4ef6\uff1a onopen",id:"\u4e8b\u4ef6-onopen",children:[],level:5},{value:"\u4e8b\u4ef6\uff1a onclose",id:"\u4e8b\u4ef6-onclose",children:[],level:5},{value:"\u4e8b\u4ef6\uff1a onmessage",id:"\u4e8b\u4ef6-onmessage",children:[],level:5},{value:"\u4e8b\u4ef6\uff1aonerror",id:"\u4e8b\u4ef6onerror",children:[],level:5},{value:"\u65b9\u6cd5\uff1asend()",id:"\u65b9\u6cd5send",children:[],level:5},{value:"\u65b9\u6cd5\uff1aclose()",id:"\u65b9\u6cd5close",children:[],level:5},{value:"\u5b9e\u4f8b\u5c5e\u6027\uff1abufferedAmount",id:"\u5b9e\u4f8b\u5c5e\u6027bufferedamount",children:[],level:5}],level:4}],level:3},{value:"\u670d\u52a1\u7aef WebSocket \u5b9e\u73b0",id:"\u670d\u52a1\u7aef-websocket-\u5b9e\u73b0",children:[],level:3},{value:"\u7efc\u5408\u6848\u4f8b\uff1a\u804a\u5929\u5ba4",id:"\u7efc\u5408\u6848\u4f8b\u804a\u5929\u5ba4",children:[{value:"\u6848\u4f8b\u6f14\u793a",id:"\u6848\u4f8b\u6f14\u793a",children:[],level:4},{value:"\u5f00\u59cb",id:"\u5f00\u59cb",children:[],level:4},{value:"\u7528\u6237\u6ce8\u518c",id:"\u7528\u6237\u6ce8\u518c",children:[],level:4},{value:"\u53d1\u9001\u6d88\u606f",id:"\u53d1\u9001\u6d88\u606f",children:[],level:4},{value:"\u603b\u7ed3",id:"\u603b\u7ed3-1",children:[],level:4}],level:3},{value:"\u76f8\u5173\u94fe\u63a5",id:"\u76f8\u5173\u94fe\u63a5",children:[],level:3}],level:2}],d={toc:k};function c(e){var t=e.components,i=(0,l.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("hr",null),(0,r.kt)("p",null,"Node \u662f\u4e00\u4e2a\u9762\u5411\u7f51\u7edc\u800c\u751f\u7684\u5e73\u53f0\uff0c\u5b83\u5177\u6709\u4e8b\u4ef6\u9a71\u52a8\u3001\u65e0\u963b\u585e\u3001\u5355\u7ebf\u7a0b\u7b49\u7279\u6027\uff0c\u5177\u5907\u826f\u597d\u7684\u53ef\u4f38\u7f29\u6027\uff0c\u4f7f\u5f97\u5b83\u5341\u5206\u8f7b\u91cf\uff0c\u9002\u5408\u5728\u5206\u5e03\u5f0f\u7f51\u7edc\u4e2d\u626e\u6f14\u5404\u79cd\u5404\u6837\u7684\u89d2\u8272\u3002\u540c\u65f6 Node \u63d0\u4f9b\u7684 API \u5341\u5206\u8d34\u5408\u7f51\u7edc\uff0c\u9002\u5408\u7528\u5b83\u57fa\u7840\u7684 API \u6784\u5efa\u7075\u6d3b\u7684\u7f51\u7edc\u670d\u52a1\u3002\u672c\u8bfe\u7a0b\u7684\u5185\u5bb9\u5c31\u662f\u7ed9\u5927\u5bb6\u4ecb\u7ecd Node \u5728\u7f51\u7edc\u901a\u4fe1\u7f16\u7a0b\u65b9\u9762\u7684\u5177\u4f53\u80fd\u529b\u3002"),(0,r.kt)("p",null,"\u5229\u7528 Node \u53ef\u4ee5\u5341\u5206\u65b9\u4fbf\u7684\u642d\u5efa\u7f51\u7edc\u670d\u52a1\u5668\u3002\u5728 Web \u9886\u57df\uff0c\u5927\u591a\u6570\u7684\u7f16\u7a0b\u8bed\u8a00\u9700\u8981\u4e13\u95e8\u7684 Web \u670d\u52a1\u5668\u4f5c\u4e3a\u5bb9\u5668\uff0c\u5982 ASP\u3001ASP.NET \u9700\u8981 IIS \u4f5c\u4e3a\u670d\u52a1\u5668\uff0cPHP \u9700\u8981\u6253\u5728 Apache \u6216 Nginx \u73af\u5883\u7b49\uff0cJSP \u9700\u8981 Tomcat \u670d\u52a1\u5668\u7b49\u3002\u4f46\u5bf9\u4e8e Node \u800c\u8a00\uff0c\u53ea\u9700\u8981\u51e0\u884c\u4ee3\u7801\u5373\u53ef\u6784\u5efa\u670d\u52a1\u5668\uff0c\u65e0\u9700\u989d\u5916\u7684\u5bb9\u5668\u3002"),(0,r.kt)("p",null,"Node \u63d0\u4f9b\u4e86 net\u3001dgram\u3001http\u3001https \u8fd94\u4e2a\u6a21\u5757\uff0c\u5206\u522b\u7528\u4e8e\u5904\u7406 TCP\u3001UDP\u3001HTTP\u3001HTTPS\uff0c\u9002\u7528\u4e8e\u670d\u52a1\u5668\u7aef\u548c\u5ba2\u6237\u7aef\u3002"),(0,r.kt)("h2",{id:"\u7b2c1\u7ae0-\u7f51\u7edc\u901a\u4fe1\u76f8\u5173\u6982\u5ff5"},"\u7b2c1\u7ae0 \u7f51\u7edc\u901a\u4fe1\u76f8\u5173\u6982\u5ff5"),(0,r.kt)("p",null,"\u6211\u4eec\u6bcf\u5929\u4f7f\u7528\u4e92\u8054\u7f51\uff0c\u4f60\u662f\u5426\u60f3\u8fc7\uff0c\u5b83\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f"),(0,r.kt)("p",null,"\u5168\u4e16\u754c\u51e0\u5341\u4ebf\u53f0\u7535\u8111\uff0c\u8fde\u63a5\u5728\u4e00\u8d77\uff0c\u4e24\u4e24\u901a\u4fe1\u3002\u4e0a\u6d77\u7684\u67d0\u4e00\u5757\u7f51\u5361\u9001\u51fa\u4fe1\u53f7\uff0c\u6d1b\u6749\u77f6\u7684\u53e6\u4e00\u5757\u7f51\u5361\u5c45\u7136\u5c31\u6536\u5230\u4e86\uff0c\u4e24\u8005\u5b9e\u9645\u4e0a\u6839\u672c\u4e0d\u77e5\u9053\u5bf9\u65b9\u7684\u7269\u7406\u4f4d\u7f6e\uff0c\u4f60\u4e0d\u89c9\u5f97\u8fd9\u662f\u5f88\u795e\u5947\u7684\u4e8b\u60c5\u5417\uff1f"),(0,r.kt)("p",null,'\u4e92\u8054\u7f51\u7684\u6838\u5fc3\u662f\u4e00\u7cfb\u5217\u534f\u8bae\uff0c\u603b\u79f0\u4e3a"\u4e92\u8054\u7f51\u534f\u8bae"\uff08Internet Protocol Suite\uff09\u3002\u5b83\u4eec\u5bf9\u7535\u8111\u5982\u4f55\u8fde\u63a5\u548c\u7ec4\u7f51\uff0c\u505a\u51fa\u4e86\u8be6\u5c3d\u7684\u89c4\u5b9a\u3002\u7406\u89e3\u4e86\u8fd9\u4e9b\u534f\u8bae\uff0c\u5c31\u7406\u89e3\u4e86\u4e92\u8054\u7f51\u7684\u539f\u7406\u3002'),(0,r.kt)("h3",{id:"\u7f51\u7edc\u4e03\u5c42\u6a21\u578b"},"\u7f51\u7edc\u4e03\u5c42\u6a21\u578b"),(0,r.kt)("p",null,"\u4e92\u8054\u7f51\u7684\u5b9e\u73b0\uff0c\u5206\u6210\u597d\u51e0\u5c42\u3002\u6bcf\u4e00\u5c42\u90fd\u6709\u81ea\u5df1\u7684\u529f\u80fd\uff0c\u5c31\u50cf\u5efa\u7b51\u7269\u4e00\u6837\uff0c\u6bcf\u4e00\u5c42\u90fd\u9760\u4e0b\u4e00\u5c42\u652f\u6301\u3002"),(0,r.kt)("p",null,"\u7528\u6237\u63a5\u89e6\u5230\u7684\uff0c\u53ea\u662f\u6700\u4e0a\u9762\u7684\u4e00\u5c42\uff0c\u6839\u672c\u6ca1\u6709\u611f\u89c9\u5230\u4e0b\u9762\u7684\u5c42\u3002\u8981\u7406\u89e3\u4e92\u8054\u7f51\uff0c\u5fc5\u987b\u4ece\u6700\u4e0b\u5c42\u5f00\u59cb\uff0c\u81ea\u4e0b\u800c\u4e0a\u7406\u89e3\u6bcf\u4e00\u5c42\u7684\u529f\u80fd\u3002"),(0,r.kt)("p",null,"\u5982\u4f55\u5206\u5c42\u6709\u4e0d\u540c\u7684\u6a21\u578b\uff0c\u6709\u7684\u6a21\u578b\u5206\u4e03\u5c42"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u7f51\u7edc\u4e03\u5c42\u6a21\u578b",src:n(45288).Z})),(0,r.kt)("p",null,"\u4e3a\u4e86\u597d\u7406\u89e3\uff0c\u6709\u7684\u6a21\u578b\u5206\u4e94\u5c42"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u7f51\u7edc\u4e94\u5c42\u6a21\u578b",src:n(37085).Z})),(0,r.kt)("p",null,"\u8d8a\u4e0b\u9762\u7684\u5c42\uff0c\u8d8a\u9760\u8fd1\u786c\u4ef6\uff1b\u8d8a\u4e0a\u9762\u7684\u5c42\uff0c\u8d8a\u9760\u8fd1\u7528\u6237\u3002"),(0,r.kt)("h3",{id:"mac-\u5730\u5740"},"mac \u5730\u5740"),(0,r.kt)("p",null,"ping 127.0.0.1 \u80fdping\u901a\u5373\u4ee3\u8868\u7535\u8111\u7f51\u5361\u6ca1\u6709\u95ee\u9898\uff0c\u7f51\u7edc\u6b63\u5e38\u5c31\u80fd\u4e0a\u7f51"),(0,r.kt)("h3",{id:"ip-\u5730\u5740"},"IP \u5730\u5740"),(0,r.kt)("p",null,"\u8ba1\u7b97\u673a\u5728\u7f51\u7edc\u4e2d\u7684\u6807\u8bc6\u53f7\u7801\uff0c\u597d\u6bd4\u6bcf\u4e2a\u4eba\u7684\u7535\u8bdd\u53f7\u7801\u3002"),(0,r.kt)("p",null,"ip\u5730\u5740\u7684\u4f5c\u7528\uff1a \u901a\u8fc7ip\u5730\u5740\u5728\u7f51\u7edc\u4e2d\u627e\u5230\u5bf9\u5e94\u7684\u8bbe\u5907\uff0c\u7136\u540e\u53ef\u4ee5\u7ed9\u8fd9\u4e2a\u8bbe\u5907\u53d1\u9001\u6570\u636e"),(0,r.kt)("p",null,"ip\u5730\u5740\u7c7b\u578b\u5206\u4e3a\uff1aipv4\u3001ipv6"),(0,r.kt)("h3",{id:"port-\u7aef\u53e3\u53f7"},"Port \u7aef\u53e3\u53f7"),(0,r.kt)("p",null,"\u7aef\u53e3\u53f7\u5206\u4e3a\u77e5\u540d\u7aef\u53e3\u53f7\u548c\u52a8\u6001\u7aef\u53e3\u53f7\uff08\u77e5\u540d\u7aef\u53e3\u53f7\u662f\u7cfb\u7edf\u4f7f\u7528\u7684\uff0c\u52a8\u6001\u7aef\u53e3\u53f7\u662f\u7a0b\u5e8f\u5458\u8bbe\u7f6e\u4f7f\u7528\u7684\uff09"),(0,r.kt)("p",null,"\u77e5\u540d\u7aef\u53e3\u53f7\uff1a\u8303\u56f4\u4ece ",(0,r.kt)("inlineCode",{parentName:"p"},"0-1023")),(0,r.kt)("p",null,"\u52a8\u6001\u7aef\u53e3\u8303\u56f4\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"1024-65535")," \uff0c\u5f53\u7a0b\u5e8f\u5173\u95ed\u65f6\uff0c\u540c\u65f6\u4e5f\u5c31\u91ca\u653e\u4e86\u6240\u5360\u7528\u7684\u7aef\u53e3\u53f7"),(0,r.kt)("p",null,"\u67e5\u770b\u7aef\u53e3\u53f7\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"netstat -an")),(0,r.kt)("p",null,"\u67e5\u770b\u7aef\u53e3\u53f7\u88ab\u54ea\u4e2a\u7a0b\u5e8f\u5360\u7528\uff1a ",(0,r.kt)("inlineCode",{parentName:"p"},"lsof -i[tcp/udp]:\u7aef\u53e3\u53f7")," (\u627e\u4e0d\u5230\u65f6\uff0c\u4f7f\u7528\u7ba1\u7406\u5458\u6743\u9650\uff0c\u52a0sudo)"),(0,r.kt)("p",null,"\u6839\u636e\u8fdb\u7a0b\u7f16\u53f7\u6740\u6b7b\u6307\u5b9a\u8fdb\u7a0b\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"kill -9 \u8fdb\u7a0b\u53f7")),(0,r.kt)("h3",{id:"\u57df\u540d"},"\u57df\u540d"),(0,r.kt)("p",null,"\u65b9\u4fbf\u8bb0\u5fc6\u67d0\u53f0\u7535\u8111\u7684\u4e3b\u673a\u5730\u5740\uff0c\u57df\u540d\u80fd\u89e3\u6790\u51fa\u6765\u4e00\u4e2aip\u5730\u5740\uff08DNS\u89e3\u6790\uff09"),(0,r.kt)("h3",{id:"tcp-\u548c-udp"},"TCP \u548c UDP"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"TCP\u548cUDP: \u90fd\u662f\u6570\u636e\u4f20\u8f93\u65b9\u5f0f\u7684\u534f\u8bae.\u6bd4\u5982\u8bf4\u6211\u8981\u7ed9\u4f60\u94b1, \u6211\u662f\u4ee5\u624b\u628a\u624b\u7684\u65b9\u5f0f\u62ff\u7ed9\u4f60\u5462\u8fd8\u662f\u4ee5\u5feb\u9012\u7684\u65b9\u5f0f\u5bc4\u7ed9\u4f60\u5462."))),(0,r.kt)("p",null,"TCP\uff08\u4f20\u8f93\u63a7\u5236\u534f\u8bae\uff09"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9700\u8981\u5efa\u7acb\u8fde\u63a5\uff08\u4e09\u6b21\u63e1\u624b\uff09,\u5f62\u6210\u4e00\u6761\u4f20\u8f93\u901a\u9053,\u624d\u80fd\u4f20\u8f93\u6570\u636e"),(0,r.kt)("li",{parentName:"ul"},"\u4f20\u8f93\u6570\u636e\u7684\u5927\u5c0f\u4e0d\u53d7\u9650\u5236"),(0,r.kt)("li",{parentName:"ul"},"\u662f\u5b89\u5168\u53ef\u9760\u7684\u534f\u8bae,\u4f46\u662f\u901f\u5ea6\u7a0d\u6162")),(0,r.kt)("p",null,"UDP\uff08\u7528\u6237\u6570\u636e\u62a5\u534f\u8bae\uff09"),(0,r.kt)("p",null,"\u6982\u5ff5\uff1a\u82f1\u6587\u5168\u62fc\uff08User Datagram Protocol\uff09\u7b80\u79f0\u7528\u6237\u6570\u636e\u62a5\u534f\u8bae\uff0c\u5b83\u662f\u65e0\u8fde\u63a5\u7684\u3001\u4e0d\u53ef\u9760\u7684\u7f51\u7edc\u4f20\u8f93\u534f\u8bae"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u6838\u5fc3\u7279\u70b9"),"\uff1a\u65e0\u8fde\u63a5\u3001\u8d44\u6e90\u5f00\u9500\u5c0f\u3001\u4f20\u8f93\u901f\u5ea6\u5feb\u3001UDP\u6bcf\u4e2a\u6570\u636e\u5305\u6700\u5927\u662f64K"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u4f18\u70b9"),"\uff1a\u4e0d\u9700\u8981\u8fde\u63a5\uff0c\u4f20\u8f93\u901f\u5ea6\u5feb\uff0c\u8d44\u6e90\u5f00\u9500\u5c0f"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u7f3a\u70b9"),"\uff1a\u4f20\u8f93\u6570\u636e\u4e0d\u53ef\u9760\uff0c\u5bb9\u6613\u4e22\u5931\u6570\u636e\u5305\uff0c\u6ca1\u6709\u6d41\u91cf\u63a7\u5236\uff0c\u5f53\u5bf9\u65b9\u6ca1\u6709\u53ca\u65f6\u63a5\u6536\u6570\u636e\uff0c\u53d1\u9001\u65b9\u4e00\u76f4\u53d1\u9001\u6570\u636e\u4f1a\u5bfc\u81f4\u7f13\u51b2\u533a\u6570\u636e\u6ee1\u4e86\uff0c\u7535\u8111\u51fa\u73b0\u5361\u6b7b\u60c5\u51b5\uff0c\u6240\u4ee5\u63a5\u6536\u65b9\u9700\u8981\u53ca\u65f6\u63a5\u6536\u6570\u636e"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4e0d\u9700\u8981\u5efa\u7acb\u8fde\u63a5, \u628a\u6570\u636e\u5c01\u88c5\u6210\u6570\u636e\u5305\u6254\u7ed9\u5bf9\u9762"),(0,r.kt)("li",{parentName:"ul"},"\u6bcf\u4e2a\u6570\u636e\u5305\u5927\u5c0f\u9650\u5236\u572864K\u5185"),(0,r.kt)("li",{parentName:"ul"},"\u56e0\u4e3a\u4e0d\u5efa\u7acb\u8fde\u63a5,\u6240\u4ee5\u5bf9\u65b9\u53ef\u80fd\u6536\u5230\u4e5f\u53ef\u80fd\u6536\u4e0d\u5230\u6570\u636e(\u4e22\u5305),\u56e0\u6b64\u662f\u4e0d\u5b89\u5168\u7684\u534f\u8bae, \u4f46\u662f\u901f\u5ea6\u6bd4\u8f83\u5feb")),(0,r.kt)("p",null,"\u4ec0\u4e48\u65f6\u5019\u7528 TCP\uff0c\u4ec0\u4e48\u65f6\u5019\u7528 UDP\uff1f"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5bf9\u901f\u5ea6\u8981\u6c42\u6bd4\u8f83\u9ad8\u7684\u65f6\u5019\u4f7f\u7528UDP\uff0c\u4f8b\u5982\u89c6\u9891\u804a\u5929, QQ\u804a\u5929"),(0,r.kt)("li",{parentName:"ul"},"\u5bf9\u6570\u636e\u5b89\u5168\u8981\u6c42\u6bd4\u8f83\u9ad8\u7684\u65f6\u5019\u4f7f\u7528TCP\uff0c\u4f8b\u5982\u6570\u636e\u4f20\u8f93,\u6587\u4ef6\u4e0b\u8f7d"),(0,r.kt)("li",{parentName:"ul"},"\u5047\u5982\u5bf9\u4e8e\u89c6\u9891\u804a\u5929\u6765\u8bf4,\u5982\u679c\u753b\u8d28\u4f18\u5148\u90a3\u5c31\u9009\u7528TCP, \u5982\u679c\u6d41\u7545\u5ea6\u4f18\u5148\u90a3\u5c31\u9009\u7528UDP")),(0,r.kt)("h3",{id:"\u4ec0\u4e48\u662f-socket"},"\u4ec0\u4e48\u662f Socket"),(0,r.kt)("p",null,"Socket\u5e94\u7528\u4e8e\u4e24\u4e2a\u4e0d\u540c\u5ba2\u6237\u7aef\u4e4b\u95f4\u7684\u901a\u4fe1\u53ca\u6570\u636e\u4f20\u8f93.\u4e2d\u6587\u540d\u5b57\u53eb\u5957\u63a5\u5b57.\n\u7f16\u7a0b\u6e90\u4e8e\u751f\u6d3b. \u6253\u4e2a\u6d3b\u751f\u751f\u7684\u4f8b\u5b50\u6765\u8bf4, \u6c7d\u8f66\u548c\u52a0\u6cb9\u673a.\u6211\u4eec\u5982\u679c\u60f3\u628a\u52a0\u6cb9\u673a\u91cc\u9762\u7684\u6cb9\u8f93\u5230\u6c7d\u8f66\u4e0a, \u90a3\u4e48\u6c7d\u8f66\u8fd9\u8fb9\u9700\u8981\u6709\u4e00\u4e2a\u7aef\u53e3, \u52a0\u6cb9\u673a\u8fd9\u8fb9\u4e5f\u8981\u6709\u4e00\u4e2a\u7aef\u53e3, \u4e24\u8fb9\u7aef\u53e3\u5404\u52a0\u4e00\u4e2a\u5957\u63a5\u5934\u5957\u7740(\u597d\u6bd4adaptor),\u7136\u540e\u4e2d\u95f4\u8fde\u4e0a\u7ba1\u9053\u6765\u8f93\u6cb9. \u6211\u8ba4\u4e3aSocket\u7684\u89d2\u8272\u5c31\u662f\u8fd9\u4e2a\u5957\u63a5\u5934.\n\u7b80\u5355\u6765\u8bf4, \u8981\u60f3\u5728\u4e24\u4e2a\u5ba2\u6237\u7aef\u4e4b\u95f4\u4f20\u6570\u636e, \u90a3\u4e48\u4e24\u4e2a\u5ba2\u6237\u7aef\u5404\u81ea\u90fd\u8981\u6709\u4e00\u4e2aSocket."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"img",src:n(53263).Z})),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"\u7b2c2\u7ae0-\u6784\u5efa-tcp-\u670d\u52a1"},"\u7b2c2\u7ae0 \u6784\u5efa TCP \u670d\u52a1"),(0,r.kt)("p",null,"TCP \u670d\u52a1\u5728\u7f51\u7edc\u5e94\u7528\u4e2d\u5341\u5206\u5e38\u89c1\uff0c\u76ee\u524d\u5927\u591a\u6570\u7684\u5e94\u7528\u90fd\u662f\u57fa\u4e8eTCP\u642d\u5efa\u800c\u6210\u7684\u3002"),(0,r.kt)("p",null,"TCP \u5168\u540d\u4e3a\u4f20\u8f93\u63a7\u5236\u534f\u8bae\uff0c\u5728 OSI \u6a21\u578b\uff08\u7531\u4e03\u5c42\u6a21\u578b\uff0c\u5206\u522b\u4e3a\u7269\u7406\u5c42\u3001\u6570\u636e\u94fe\u8def\u5c42\u3001\u7f51\u7edc\u5c42\u3001\u4f20\u8f93\u5c42\u3001\u4f1a\u8bdd\u5c42\u3001\u8868\u793a\u5c42\u3001\u5e94\u7528\u5c42\uff09\u4e2d\u5c5e\u4e8e\u4f20\u8f93\u5c42\u534f\u8bae\u3002\u8bb8\u591a\u5e94\u7528\u5c42\u534f\u8bae\u57fa\u4e8eTCP\u6784\u5efa\uff0c\u5178\u578b\u7684\u662fHTTP\u3001SMTP\u3001IMAP\u7b49\u534f\u8bae\u3002"),(0,r.kt)("p",null,"\u4e03\u5c42\u534f\u8bae\u793a\u610f\u56fe\u5982\u4e0b\uff1a"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u5c42\u7ea7"),(0,r.kt)("th",{parentName:"tr",align:null},"\u4f5c\u7528"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u5e94\u7528\u5c42"),(0,r.kt)("td",{parentName:"tr",align:null},"HTTP\u3001SMTP\u3001IMAP\u7b49")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u8868\u793a\u5c42"),(0,r.kt)("td",{parentName:"tr",align:null},"\u52a0\u5bc6/\u89e3\u5bc6\u7b49")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u4f1a\u8bdd\u5c42"),(0,r.kt)("td",{parentName:"tr",align:null},"\u901a\u4fe1\u8fde\u63a5/\u7ef4\u6301\u4f1a\u8bdd")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u4f20\u8f93\u5c42"),(0,r.kt)("td",{parentName:"tr",align:null},"TCP/UDP")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u7f51\u7edc\u5c42"),(0,r.kt)("td",{parentName:"tr",align:null},"IP")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u94fe\u8def\u5c42"),(0,r.kt)("td",{parentName:"tr",align:null},"\u7f51\u7edc\u7279\u6709\u7684\u94fe\u8def\u63a5\u53e3")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u7269\u7406\u5c42"),(0,r.kt)("td",{parentName:"tr",align:null},"\u7f51\u7edc\u7269\u7406\u786c\u4ef6")))),(0,r.kt)("p",null,"TCP \u662f\u9762\u5411\u8fde\u63a5\u7684\u534f\u8bae\uff0c\u5176\u663e\u8457\u7684\u7279\u5f81\u662f\u5728\u4f20\u8f93\u4e4b\u524d\u9700\u89813\u6b21\u63e1\u624b\u5f62\u6210\u4f1a\u8bdd\uff0c\u5982\u4e0b\u56fe\u6240\u793a"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"TCP\u8fde\u63a53\u6b21\u63e1\u624b",src:n(18148).Z})),(0,r.kt)("p",null,"\u53ea\u6709\u4f1a\u8bdd\u5f62\u6210\u4e4b\u540e\uff0c\u670d\u52a1\u5668\u7aef\u548c\u5ba2\u6237\u7aef\u4e4b\u95f4\u624d\u80fd\u4e92\u76f8\u53d1\u9001\u6570\u636e\u3002\u5728\u521b\u5efa\u4f1a\u8bdd\u7684\u8fc7\u7a0b\u4e2d\uff0c\u670d\u52a1\u5668\u7aef\u548c\u5ba2\u6237\u7aef\u5206\u522b\u63d0\u4f9b\u4e00\u4e2a\u5957\u63a5\u5b57\uff0c\u8fd9\u4e2a\u4e24\u4e2a\u5957\u63a5\u5b57\u5171\u540c\u5f62\u6210\u4e00\u4e2a\u8fde\u63a5\u3002\u670d\u52a1\u5668\u7aef\u4e0e\u5ba2\u6237\u7aef\u5219\u901a\u8fc7\u5957\u63a5\u5b57\u5b9e\u73b0\u4e24\u8005\u4e4b\u95f4\u8fde\u63a5\u901a\u4fe1\u7684\u64cd\u4f5c\u3002"),(0,r.kt)("h3",{id:"\u57fa\u672c\u793a\u4f8b"},"\u57fa\u672c\u793a\u4f8b"),(0,r.kt)("p",null,"\u670d\u52a1\u7aef\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const net = require('net');\nconst server = net.createServer((c) => {\n  // 'connection' listener\n  console.log('client connected');\n  c.on('end', () => {\n    console.log('client disconnected');\n  });\n  // \u7ed9\u5ba2\u6237\u7aef\u53d1\u6d88\u606f\n  c.write('hello\\r\\n');\n  c.pipe(c);\n});\nserver.on('error', (err) => {\n  throw err;\n});\nserver.listen(8124, () => {\n  console.log('server bound');\n});\n")),(0,r.kt)("p",null,"\u5ba2\u6237\u7aef\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const net = require('net');\nconst client = net.createConnection({ port: 8124 }, () => {\n  // 'connect' listener\n  console.log('connected to server!');\n  // \u5f53\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u5efa\u7acb\u8fde\u63a5\u6210\u529f\u4ee5\u540e, \u5ba2\u6237\u7aef\u5c31\u53ef\u4ee5\u7ed9\u670d\u52a1\u7aef\u53d1\u9001\u6570\u636e\n  client.write('world!\\r\\n');\n\n  // \u5f53\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u5efa\u7acb\u8fde\u63a5\u6210\u529f\u4ee5\u540e, \u6211\u4eec\u53ef\u4ee5\u76d1\u542c\u7ec8\u7aef\u7684\u8f93\u5165\n  // \u83b7\u53d6\u7ec8\u7aef\u7684\u8f93\u5165\u53d1\u9001\u7ed9\u670d\u52a1\u7aef\n  process.stdin.on('data', data => {\n    client.write(data.toString().trim())\n  })\n});\n  // \u5f53\u670d\u52a1\u7aef\u53d1\u6d88\u606f\u8fc7\u6765\u5c31\u89e6\u53d1data\u4e8b\u4ef6\nclient.on('data', (data) => {\n  console.log(data.toString());\n  client.end();\n});\nclient.on('end', () => {\n  console.log('disconnected from server');\n});\n")),(0,r.kt)("h2",{id:"\u76f8\u5173-api"},"\u76f8\u5173 API"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u5b98\u65b9API\u6587\u6863\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html"},"https://nodejs.org/dist/latest-v10.x/docs/api/net.html"))),(0,r.kt)("h3",{id:"\u670d\u52a1\u7aef\u76f8\u5173-api"},"\u670d\u52a1\u7aef\u76f8\u5173 API"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_class_net_server"},"Class: net.Server"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"[new net.Server(",(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_new_net_server_options_connectionlistener"},"options","]","[, connectionListener])")," \u521b\u5efa\u670d\u52a1\u5668"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_event_close"},"Event: 'close'")," \u5f53\u670d\u52a1\u5668\u5173\u95ed\u65f6\uff0c\u89e6\u53d1\u8be5\u4e8b\u4ef6"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_event_connection"},"Event: 'connection'")," \u5f53\u6709\u65b0\u7684\u5ba2\u6237\u7aef\u8fde\u63a5\u8fdb\u6765\u65f6\uff0c\u89e6\u53d1\u8be5\u4e8b\u4ef6"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_event_error"},"Event: 'error'")," \u5f53\u670d\u52a1\u5668\u53d1\u751f\u9519\u8bef\u65f6\uff0c\u89e6\u53d1\u8be5\u4e8b\u4ef6"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_event_listening"},"Event: 'listening'")," \u5f53\u8c03\u7528 server.listen() \u7ed1\u5b9a\u7aef\u53e3\u540e\u89e6\u53d1\uff0c\u7b80\u6d01\u5199\u6cd5\u4e3a server.listen(port, listeningListener)\uff0c\u901a\u8fc7 listen() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u5165"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_server_address"},"server.address()")," \u670d\u52a1\u5668\u521b\u5efa\u4fa6\u542c\u6210\u529f\u540e\uff0c\u53ef\u4ee5\u7528\u6765\u83b7\u53d6\u670d\u52a1\u5668\u5730\u5740\u76f8\u5173\u4fe1\u606f\uff0c\u5305\u542b ",(0,r.kt)("inlineCode",{parentName:"li"},"{ port: 12346, family: 'IPv4', address: '127.0.0.1' }")," \u4fe1\u606f"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_server_close_callback"},"server.close([callback])")," \u5f53\u670d\u52a1\u5668\u5173\u95ed\u65f6\u89e6\u53d1\uff0c\u5728\u8c03\u7528 server.close() \u540e\uff0c\u670d\u52a1\u5668\u5c06\u505c\u6b62\u63a5\u53d7\u65b0\u7684\u5957\u63a5\u5b57\u8fde\u63a5\uff0c\u4f46\u4fdd\u6301\u5f53\u524d\u5b58\u5728\u7684\u8fde\u63a5\uff0c\u7b49\u5f85\u6240\u6709\u8fde\u63a5\u90fd\u65ad\u5f00\u540e\uff0c\u4f1a\u89e6\u53d1\u8be5\u4e8b\u4ef6"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_server_connections"},"server.connections")," \u83b7\u53d6\u5f53\u524d\u5df2\u5efa\u7acb\u8fde\u63a5\u7684\u6570\u91cf",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6ce8\u610f\uff1a\u8be5 API \u5373\u5c06\u5e9f\u5f03\uff0c\u63a8\u8350\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"server.getConnections()")," \u66ff\u6362"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_server_getconnections_callback"},"server.getConnections(callback)")," \u83b7\u53d6\u5f53\u524d\u5df2\u5efa\u7acb\u8fde\u63a5\u7684\u6570\u91cf"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_server_listen"},"server.listen()")," \u7ed1\u5b9a\u7aef\u53e3\u53f7\u542f\u52a8\u670d\u52a1\uff0c\u5f00\u59cb\u7b49\u5f85\u4fa6\u542c",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"[server.listen(handle",(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_server_listen_handle_backlog_callback"},", backlog","]","[, callback])")),(0,r.kt)("li",{parentName:"ul"},"[server.listen(options",(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_server_listen_options_callback"},", callback","]",")")),(0,r.kt)("li",{parentName:"ul"},"[server.listen(path",(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_server_listen_path_backlog_callback"},", backlog","]","[, callback])")),(0,r.kt)("li",{parentName:"ul"},"[server.listen(",(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_server_listen_port_host_backlog_callback"},"port[, host[, backlog","]","]][, callback])")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_server_listening"},"server.listening")," \u83b7\u53d6\u670d\u52a1\u5668\u7684\u4fa6\u542c\u72b6\u6001"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_server_maxconnections"},"server.maxConnections")," \u5728\u670d\u52a1\u5668\u8fde\u63a5\u6570\u8f83\u9ad8\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u8be5\u5c5e\u6027\u7528\u4e8e\u62d2\u7edd\u8d85\u8fc7\u6700\u5927\u6570\u7684\u8fde\u63a5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_server_ref"},"server.ref()")," \u6062\u590d\u670d\u52a1\u5668\u4fa6\u542c"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_server_unref"},"server.unref()")," \u6682\u505c\u670d\u52a1\u5668\u4fa6\u542c\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"server.ref()")," \u6062\u590d\u670d\u52a1\u5668\u4fa6\u542c")),(0,r.kt)("h3",{id:"\u5957\u63a5\u5b57-socket-\u76f8\u5173-api"},"\u5957\u63a5\u5b57 Socket \u76f8\u5173 API"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_class_net_socket"},"Class: net.Socket"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_new_net_socket_options"},"new net.Socket([options])")," \u521b\u5efa Socket \u8fde\u63a5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_event_close_1"},"Event: 'close'")," \u5f53\u5957\u63a5\u5b57\u5b8c\u5168\u5173\u95ed\u65f6\uff0c\u89e6\u53d1\u8be5\u4e8b\u4ef6"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_event_connect"},"Event: 'connect'")," \u8be5\u4e8b\u4ef6\u7528\u4e8e\u5ba2\u6237\u7aef\uff0c\u5f53\u5957\u63a5\u5b57\u4e0e\u670d\u52a1\u7aef\u8fde\u63a5\u6210\u529f\u65f6\u4f1a\u88ab\u89e6\u53d1"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_event_data"},"Event: 'data'")," \u5f53\u4e00\u7aef\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"write()")," \u53d1\u9001\u6570\u636e\u65f6\uff0c\u53e6\u4e00\u7aef\u4f1a\u89e6\u53d1 ",(0,r.kt)("inlineCode",{parentName:"li"},"data")," \u4e8b\u4ef6\uff0c\u4e8b\u4ef6\u4f20\u9012\u7684\u6570\u636e\u5373\u662f ",(0,r.kt)("inlineCode",{parentName:"li"},"write()")," \u53d1\u9001\u7684\u6570\u636e"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_event_drain"},"Event: 'drain'")," \u5f53\u4efb\u610f\u4e00\u7aef\u8c03\u7528 write() \u53d1\u9001\u6570\u636e\u65f6\uff0c\u5f53\u524d\u8fd9\u7aef\u4f1a\u89e6\u53d1\u8be5\u4e8b\u4ef6"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_event_end"},"Event: 'end'")," \u5f53\u8fde\u63a5\u4e2d\u7684\u4efb\u610f\u4e00\u7aef\u53d1\u9001\u4e86 FIN \u6570\u636e\u65f6\uff0c\u5c06\u4f1a\u89e6\u53d1\u8be5\u4e8b\u4ef6"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_event_error_1"},"Event: 'error'")," \u5f53\u5f02\u5e38\u53d1\u751f\u65f6\uff0c\u89e6\u53d1\u8be5\u4e8b\u4ef6"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_event_timeout"},"Event: 'timeout'"),"  \u5f53\u4e00\u5b9a\u65f6\u95f4\u540e\u8fde\u63a5\u4e0d\u518d\u6d3b\u8dc3\u65f6\uff0c\u8be5\u4e8b\u4ef6\u5c06\u4f1a\u88ab\u89e6\u53d1\uff0c\u901a\u77e5\u7528\u6237\u5f53\u524d\u8fde\u63a5\u5df2\u7ecf\u88ab\u95f2\u7f6e\u4e86"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_socket_address"},"socket.address()")," \u83b7\u53d6\u5957\u63a5\u5b57\u7684\u8fde\u63a5\u4fe1\u606f\uff0c\u4f8b\u5982 ",(0,r.kt)("inlineCode",{parentName:"li"},"{ port: 12346, family: 'IPv4', address: '127.0.0.1' }")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_socket_localaddress"},"socket.localAddress")," \u83b7\u53d6\u5f53\u524d\u5957\u63a5\u5b57\u5730\u5740"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_socket_localport"},"socket.localPort")," \u83b7\u53d6\u5f53\u524d\u5957\u63a5\u5b57\u7aef\u53e3\u53f7"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_socket_remoteaddress"},"socket.remoteAddress")," \u83b7\u53d6\u53e6\u4e00\u7aef\u5957\u63a5\u5b57\u5730\u5740"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_socket_remotefamily"},"socket.remoteFamily")," \u83b7\u53d6\u53e6\u4e00\u7aef\u5957\u63a5\u5b57IP\u534f\u8bae\u7248\u672c"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_socket_remoteport"},"socket.remotePort")," \u83b7\u53d6\u53e6\u4e00\u7aef\u5957\u63a5\u5b57\u8fde\u63a5\u7aef\u53e3\u53f7"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_socket_setencoding_encoding"},"socket.setEncoding([encoding])")," \u8bbe\u7f6e\u83b7\u53d6\u6570\u636e\u89e3\u6790\u7684\u7f16\u7801\u683c\u5f0f\uff0c\u9ed8\u8ba4\u4e0d\u5904\u7406"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_socket_write_data_encoding_callback"},"socket.write(data[, encoding][, callback])")," \u901a\u8fc7\u5957\u63a5\u5b57\u53d1\u9001\u6570\u636e")),(0,r.kt)("h3",{id:"\u5176\u5b83-api"},"\u5176\u5b83 API"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_net_connect"},"net.connect()")," \u521b\u5efa Socket \u5ba2\u6237\u7aef\u8fde\u63a5\uff0c\u548c ",(0,r.kt)("inlineCode",{parentName:"li"},"net.createConnection()")," \u4f5c\u7528\u76f8\u7b49",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_net_connect_options_connectlistener"},"net.connect(options[, connectListener])")),(0,r.kt)("li",{parentName:"ul"},"[net.connect(port",(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_net_connect_port_host_connectlistener"},", host","]","[, connectListener])")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_net_createconnection"},"net.createConnection()")," \u521b\u5efa Socket \u5ba2\u6237\u7aef\u8fde\u63a5",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_net_createconnection_options_connectlistener"},"net.createConnection(options[, connectListener])")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_net_createconnection_path_connectlistener"},"net.createConnection(path[, connectListener])")),(0,r.kt)("li",{parentName:"ul"},"[net.createConnection(port",(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_net_createconnection_port_host_connectlistener"},", host","]","[, connectListener])")))),(0,r.kt)("li",{parentName:"ul"},"[net.createServer(",(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_net_createserver_options_connectionlistener"},"options","]","[, connectionListener])")," \u521b\u5efaSocket\u670d\u52a1\u7aef\uff0c\u7b49\u4ef7\u4e8e ",(0,r.kt)("inlineCode",{parentName:"li"},"new net.Server()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_net_isip_input"},"net.isIP(input)")," \u5224\u65ad\u662f\u5426\u662fIP\u5730\u5740"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_net_isipv4_input"},"net.isIPv4(input)")," \u5224\u65ad\u662f\u5426\u662f\u7b26\u5408 IPv4\u534f\u8bae\u7684\u5730\u5740"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_net_isipv6_input"},"net.isIPv6(input)")," \u5224\u65ad\u662f\u5426\u662f\u7b26\u5408 IPv6 \u534f\u8bae\u7684\u5730\u5740")),(0,r.kt)("h2",{id:"\u6848\u4f8b\u804a\u5929\u5ba4"},"\u6848\u4f8b\uff1a\u804a\u5929\u5ba4"),(0,r.kt)("h3",{id:"\u521d\u59cb\u5316"},"\u521d\u59cb\u5316"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="\u5ba2\u6237\u7aef\u4ee3\u7801 client.js"',title:'"\u5ba2\u6237\u7aef\u4ee3\u7801','client.js"':!0},"const net = require('net');\n\nconst client = net.createConnection({\n  host: '127.0.0.1',\n  port: 8001\n})\n\nclient.on('connect', () => {\n  console.log('\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u5efa\u7acb\u8fde\u63a5\u6210\u529f')\n  client.write('world')\n})\n\nclient.on('data', data => {\n  console.log(data.toString())\n})\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="\u670d\u52a1\u7aef\u4ee3\u7801 server.js"',title:'"\u670d\u52a1\u7aef\u4ee3\u7801','server.js"':!0},"const net = require('net');\n\nconst server = net.createServer()\n\nserver.on('connection', clientSocket => {\n  clientSocket.on('data', data => {\n    console.log(data.toString())\n  })\n\n  clientSocket.write('hello')\n})\n\nserver.listen(8001, () => console.log('server is running on port 8001'))\n")),(0,r.kt)("h3",{id:"\u6838\u5fc3\u9700\u6c42"},"\u6838\u5fc3\u9700\u6c42"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7528\u6237\u7b2c\u4e00\u6b21\u8fdb\u6765\uff0c\u63d0\u793a\u7528\u6237\u8f93\u5165\u6635\u79f0\u8fdb\u884c\u6ce8\u518c"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6635\u79f0\u4e0d\u5141\u8bb8\u91cd\u590d"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5e7f\u64ad\u6d88\u606f\uff08\u7fa4\u53d1\uff09")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7528\u6237\u6635\u79f0")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u70b9\u5bf9\u70b9\u6d88\u606f\uff08\u79c1\u804a\uff09"))),(0,r.kt)("h3",{id:"\u6570\u636e\u683c\u5f0f\u8bbe\u8ba1\u8bed\u8a00\u534f\u8bae"},"\u6570\u636e\u683c\u5f0f\u8bbe\u8ba1\uff08\u8bed\u8a00\u534f\u8bae\uff09"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4ec0\u4e48\u662f\u6570\u636e\u683c\u5f0f",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6570\u636e\u683c\u5f0f\uff08data format\uff09\u662f\u63cf\u8ff0\u6570\u636e\u4fdd\u5b58\u5728\u6587\u4ef6\u6216\u8bb0\u5f55\u4e2d\u7684\u89c4\u5219\u3002\u53ef\u4ee5\u662f\u5b57\u7b26\u5f62\u5f0f\u7684\u6587\u672c\u683c\u5f0f\uff0c\u6216\u4e8c\u8fdb\u5236\u6570\u636e\u5f62\u5f0f\u7684\u538b\u7f29\u683c\u5f0f"))),(0,r.kt)("li",{parentName:"ul"},"\u4e3a\u4ec0\u4e48\u8981\u8fdb\u884c\u6570\u636e\u683c\u5f0f\u8bbe\u8ba1"),(0,r.kt)("li",{parentName:"ul"},"\u6bd4\u8f83\u5e38\u89c1\u7684\u6570\u636e\u4f20\u8f93\u683c\u5f0f",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"JSON")),(0,r.kt)("li",{parentName:"ul"},"XML"),(0,r.kt)("li",{parentName:"ul"},"YAML"),(0,r.kt)("li",{parentName:"ul"},"...")))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"\u7528\u6237\u767b\u5f55"))),(0,r.kt)("p",null,"\u5ba2\u6237\u7aef\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "login",\n  "nickname": "xxx"\n}\n')),(0,r.kt)("p",null,"\u670d\u52a1\u7aef\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "login",\n  "success": true | false,\n  "message": "\u767b\u5f55\u6210\u529f|\u5931\u8d25",\n  "sumUsers": 10\n}\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"\u5e7f\u64ad\u6d88\u606f"))),(0,r.kt)("p",null,"\u5ba2\u6237\u7aef\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "broadcast",\n  "message": "xxx"\n}\n')),(0,r.kt)("p",null,"\u670d\u52a1\u7aef\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "broadcast",\n  "nickname": "xxx",\n  "message": "xxx"\n}\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"\u70b9\u5bf9\u70b9\u6d88\u606f"))),(0,r.kt)("p",null,"\u5ba2\u6237\u7aef\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "p2p",\n  "to": "xxx",\n  "message": "xxx"\n}\n')),(0,r.kt)("p",null,"\u670d\u52a1\u7aef\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "p2p",\n  "from": "xxx",\n  "to": "xxx",\n  "message": "xxx"\n}\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u4e0a\u7ebf|\u79bb\u7ebf\u901a\u77e5\u65e5\u5fd7")),(0,r.kt)("p",null,"\u670d\u52a1\u7aef\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "log",\n  "message": "xxx \u8fdb\u5165|\u79bb\u5f00\u4e86\u804a\u5929\u5ba4\uff0c\u5f53\u524d\u5728\u7ebf\u4eba\u6570\uff1axx"\n}\n')),(0,r.kt)("h3",{id:"\u7528\u6237\u767b\u5f55"},"\u7528\u6237\u767b\u5f55"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5ba2\u6237\u7aef\u8f93\u5165\u6635\u79f0\u53d1\u9001\u5230\u670d\u52a1\u7aef"),(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u7aef\u63a5\u6536\u6570\u636e\uff0c\u6821\u9a8c\u6635\u79f0\u662f\u5426\u91cd\u590d",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u5df2\u91cd\u590d\uff0c\u5219\u53d1\u9001\u901a\u77e5\u544a\u8bc9\u5ba2\u6237\u7aef"),(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u53ef\u4ee5\u4f7f\u7528\uff0c\u5219\u5c06\u7528\u6237\u6635\u79f0\u53ca\u901a\u4fe1 Socket \u5b58\u50a8\u5230\u5bb9\u5668\u4e2d\u7528\u4e8e\u540e\u7eed\u4f7f\u7528")))),(0,r.kt)("h3",{id:"\u7fa4\u53d1\u6d88\u606f"},"\u7fa4\u53d1\u6d88\u606f"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5ba2\u6237\u7aef\u8f93\u5165\u6d88\u606f\u53d1\u9001\u5230\u670d\u52a1\u7aef"),(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u7aef\u5c06\u6d88\u606f\u53d1\u9001\u7ed9\u6240\u6709\u5f53\u524d\u8fde\u63a5\uff08\u4e5f\u5c31\u662f\u5b58\u50a8\u5ba2\u6237\u7aefSocket\u7684\u5bb9\u5668\uff09\u7684\u5ba2\u6237\u7aef"),(0,r.kt)("li",{parentName:"ul"},"\u5ba2\u6237\u7aef\u6536\u5230\u6d88\u606f\uff0c\u5c06\u6d88\u606f\u8f93\u51fa\u5230\u7ec8\u7aef")),(0,r.kt)("h3",{id:"\u79c1\u804a"},"\u79c1\u804a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5ba2\u6237\u7aef\u8f93\u5165\u6d88\u606f\u53d1\u9001\u5230\u670d\u52a1\u7aef"),(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u7aef\u6839\u636e\u6d88\u606f\u5185\u5bb9\u4ece\u5bb9\u5668\u4e2d\u627e\u5230\u5bf9\u5e94\u7684\u901a\u4fe1\u5ba2\u6237\u7aef\uff0c\u7136\u540e\u5c06\u6d88\u606f\u53d1\u9001\u7ed9\u8be5\u5ba2\u6237\u7aef"),(0,r.kt)("li",{parentName:"ul"},"\u5bf9\u5e94\u7684\u5ba2\u6237\u7aef\u6536\u5230\u6d88\u606f\uff0c\u5c06\u6d88\u606f\u8f93\u5165\u5230\u7ec8\u7aef")),(0,r.kt)("h3",{id:"\u4e0a\u7ebf\u79bb\u7ebf\u901a\u77e5"},"\u4e0a\u7ebf|\u79bb\u7ebf\u901a\u77e5"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4e0a\u7ebf\u901a\u77e5"),(0,r.kt)("li",{parentName:"ul"},"\u79bb\u7ebf\u901a\u77e5")),(0,r.kt)("h2",{id:"\u603b\u7ed3"},"\u603b\u7ed3"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"TCP \u5fc5\u987b\u5efa\u7acb\u8fde\u63a5\uff08\u4e09\u6b21\u63e1\u624b\u5efa\u7acb\u8fde\u63a5\uff09\u624d\u80fd\u901a\u4fe1")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"TCP \u53ea\u662f\u8d1f\u8d23\u6570\u636e\u7684\u4f20\u8f93\uff0c\u4e0d\u5173\u5fc3\u4f20\u8f93\u7684\u6570\u636e\u683c\u5f0f\u95ee\u9898"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "xxx"\n}\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u9700\u8981\u4f7f\u7528 TCP \u901a\u4fe1\u5b8c\u6210\u67d0\u79cd\u529f\u80fd\uff0c\u5219\u9700\u8981\u5236\u5b9a\u6570\u636e\u683c\u5f0f\u534f\u8bae\uff0c\u6216\u8005\u4f7f\u7528\u7b2c\u4e09\u65b9\u534f\u8bae"),(0,r.kt)("li",{parentName:"ul"},"Socket \u5c31\u662f\u4e0e\u4e4b\u901a\u4fe1\u7684\u53e6\u4e00\u7aef\uff0c\u901a\u8fc7 Socket \u63a5\u6536\u6216\u662f\u53d1\u9001\u6570\u636e"),(0,r.kt)("li",{parentName:"ul"},"Socket \u901a\u4fe1\u6a21\u578b")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Socket \u901a\u4fe1\u6a21\u578b",src:n(9643).Z})),(0,r.kt)("h2",{id:"\u7b2c3\u7ae0-\u6784\u5efa-udp-\u670d\u52a1"},"\u7b2c3\u7ae0 \u6784\u5efa UDP \u670d\u52a1"),(0,r.kt)("p",null,"\u5185\u5bb9\u5b89\u6392\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"UDP \u4ecb\u7ecd"),(0,r.kt)("li",{parentName:"ul"},"Node \u4e2d\u7684\u6838\u5fc3\u6a21\u5757 dgram"),(0,r.kt)("li",{parentName:"ul"},"\u4f7f\u7528 Node \u5b9e\u73b0 UDP \u5355\u64ad"),(0,r.kt)("li",{parentName:"ul"},"\u4f7f\u7528 Node \u5b9e\u73b0 UDP \u5e7f\u64ad"),(0,r.kt)("li",{parentName:"ul"},"\u4f7f\u7528 Node \u5b9e\u73b0 UDP \u7ec4\u64ad")),(0,r.kt)("h3",{id:"udp-\u7b80\u4ecb"},"UDP \u7b80\u4ecb"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"User Datagram Protocol\uff0c\u7b80\u79f0 UDP \uff0c\u53c8\u79f0\u7528\u6237\u6570\u636e\u62a5\u534f\u8bae")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u548c TCP \u4e00\u6837\uff0c\u4f4d\u4e8e\u7f51\u7edc\u4f20\u8f93\u5c42\u7528\u4e8e\u5904\u7406\u6570\u636e\u5305")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"UDP \u6700\u5927\u7684\u7279\u70b9\u662f",(0,r.kt)("strong",{parentName:"p"},"\u65e0\u8fde\u63a5")),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"\u4e0eTCP\u76f8\u6bd4, TCP\u9700\u8981\u5efa\u7acb\u8fde\u63a5. \u6240\u4ee5UDP\u901f\u5ea6\u5feb"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"UDP \u4f20\u8f93",(0,r.kt)("strong",{parentName:"p"},"\u901f\u5ea6\u5feb"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"UDP \u6570\u636e\u4f20\u8f93",(0,r.kt)("strong",{parentName:"p"},"\u4e0d\u53ef\u9760")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4e0d\u63d0\u4f9b\u6570\u636e\u5305\u5206\u7ec4\u3001\u7ec4\u88c5\u548c\u4e0d\u80fd\u5bf9\u6570\u636e\u5305\u8fdb\u884c\u6392\u5e8f\u7684\u7f3a\u70b9\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u62a5\u6587\u53d1\u9001\u4e4b\u540e\uff0c\u662f\u65e0\u6cd5\u5f97\u77e5\u5176\u662f\u5426\u5b89\u5168\u5b8c\u6574\u5230\u8fbe\u7684"),(0,r.kt)("li",{parentName:"ul"},"\u53ef\u9760\u6027\u7531\u5e94\u7528\u5c42\u8d1f\u8d23"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u652f\u6301\u4e00\u5bf9\u4e00\u901a\u4fe1\uff0c\u4e5f\u652f\u6301\u4e00\u5bf9\u591a\u901a\u4fe1")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8bb8\u591a\u5173\u952e\u7684\u4e92\u8054\u7f51\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528 UDP"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5982 DNS \u57df\u540d\u7cfb\u7edf\u670d\u52a1\u3001TFTP \u7b80\u5355\u6587\u4ef6\u4f20\u8f93\u534f\u8bae\u3001DHCP \u52a8\u6001\u4e3b\u673a\u8bbe\u7f6e\u534f\u8bae \u7b49"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"UDP \u9002\u7528\u4e8e\u5bf9\u901f\u5ea6\u8981\u6c42\u6bd4\u8f83\u9ad8\uff0c\u5bf9\u6570\u636e\u8d28\u91cf\u8981\u6c42\u4e0d\u4e25\u8c28\u7684\u5e94\u7528"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4f8b\u5982\u6d41\u5a92\u4f53\u3001\u5b9e\u65f6\u591a\u4eba\u6e38\u620f\u3001\u5b9e\u65f6\u97f3\u89c6\u9891")))),(0,r.kt)("h3",{id:"tcp-\u548c-udp-1"},"TCP \u548c UDP"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"TCP_vs_UDP.JPG",src:n(51316).Z})),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"TCP\u548cUDP: \u90fd\u662f\u6570\u636e\u4f20\u8f93\u65b9\u5f0f\u7684\u534f\u8bae.\u6bd4\u5982\u8bf4\u6211\u8981\u7ed9\u4f60\u94b1, \u6211\u662f\u4ee5\u624b\u628a\u624b\u7684\u65b9\u5f0f\u62ff\u7ed9\u4f60\u5462\u8fd8\u662f\u4ee5\u5feb\u9012\u7684\u65b9\u5f0f\u5bc4\u7ed9\u4f60\u5462."))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"UDP"),(0,r.kt)("th",{parentName:"tr",align:null},"TCP"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u8fde\u63a5"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e0\u8fde\u63a5"),(0,r.kt)("td",{parentName:"tr",align:null},"\u9762\u5411\u8fde\u63a5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u901f\u5ea6"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e0\u9700\u5efa\u7acb\u8fde\u63a5\uff0c\u901f\u5ea6\u8f83\u5feb"),(0,r.kt)("td",{parentName:"tr",align:null},"\u9700\u8981\u5efa\u7acb\u8fde\u63a5\uff0c\u901f\u5ea6\u8f83\u6162")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u76ee\u7684\u4e3b\u673a"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e00\u5bf9\u4e00\uff0c\u4e00\u5bf9\u591a"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4ec5\u80fd\u4e00\u5bf9\u4e00")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u5e26\u5bbd"),(0,r.kt)("td",{parentName:"tr",align:null},"UDP \u62a5\u5934\u8f83\u77ed\uff0c\u6d88\u8017\u5e26\u5bbd\u66f4\u5c11"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6d88\u8017\u66f4\u591a\u7684\u5e26\u5bbd")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u6d88\u606f\u8fb9\u754c"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6709"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u53ef\u9760\u6027"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4f4e"),(0,r.kt)("td",{parentName:"tr",align:null},"\u9ad8")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u987a\u5e8f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e0\u5e8f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6709\u5e8f")))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u6ce8\uff1a\u4e8b\u5b9e\u4e0a\uff0cUDP\u534f\u8bae\u7684\u8fd9\u79cd\u4e71\u5e8f\u6027\u57fa\u672c\u4e0a\u5f88\u5c11\u51fa\u73b0\uff0c\u901a\u5e38\u53ea\u4f1a\u5728\u7f51\u7edc\u975e\u5e38\u62e5\u6324\u7684\u60c5\u51b5\u4e0b\u624d\u6709\u53ef\u80fd\u53d1\u751f\u3002")),(0,r.kt)("p",null,"\u4ec0\u4e48\u65f6\u5019\u7528 TCP\uff0c\u4ec0\u4e48\u65f6\u5019\u7528 UDP\uff1f"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5bf9\u901f\u5ea6\u8981\u6c42\u6bd4\u8f83\u9ad8\u7684\u65f6\u5019\u4f7f\u7528UDP\uff0c\u4f8b\u5982\u89c6\u9891\u804a\u5929, QQ\u804a\u5929"),(0,r.kt)("li",{parentName:"ul"},"\u5bf9\u6570\u636e\u5b89\u5168\u8981\u6c42\u6bd4\u8f83\u9ad8\u7684\u65f6\u5019\u4f7f\u7528TCP\uff0c\u4f8b\u5982\u6570\u636e\u4f20\u8f93,\u6587\u4ef6\u4e0b\u8f7d"),(0,r.kt)("li",{parentName:"ul"},"\u5047\u5982\u5bf9\u4e8e\u89c6\u9891\u804a\u5929\u6765\u8bf4,\u5982\u679c\u753b\u8d28\u4f18\u5148\u90a3\u5c31\u9009\u7528TCP, \u5982\u679c\u6d41\u7545\u5ea6\u4f18\u5148\u90a3\u5c31\u9009\u7528UDP")),(0,r.kt)("h3",{id:"udp-\u7684\u4e09\u79cd\u4f20\u64ad\u65b9\u5f0f"},"UDP \u7684\u4e09\u79cd\u4f20\u64ad\u65b9\u5f0f"),(0,r.kt)("p",null,"1\u3001UDP \u5355\u64ad"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20190422104032626",src:n(76602).Z})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5355\u64ad\u662f\u76ee\u7684\u5730\u5740\u4e3a\u5355\u4e00\u76ee\u6807\u7684\u4e00\u79cd\u4f20\u64ad\u65b9\u5f0f"),(0,r.kt)("li",{parentName:"ul"},"\u5730\u5740\u8303\u56f4\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"0.0.0.0 ~ 223.255.255.255"))),(0,r.kt)("p",null,"2\u3001UDP \u5e7f\u64ad"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20190422104655365",src:n(67541).Z})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u76ee\u7684\u5730\u5740\u4e3a\u7f51\u7edc\u4e2d\u7684\u6240\u6709\u8bbe\u5907")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5730\u5740\u8303\u56f4\u5206\u4e3a\u4e24\u79cd"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u53d7\u9650\u5e7f\u64ad\uff1a\u5b83\u4e0d\u88ab\u8def\u7531\u8f6c\u53d1\uff0cIP \u5730\u5740\u7684\u7f51\u7edc\u5b57\u6bb5\u548c\u4e3b\u673a\u5b57\u6bb5\u5168\u4e3a1\u5c31\u662f\u5730\u5740 ",(0,r.kt)("inlineCode",{parentName:"li"},"255.255.255.255")),(0,r.kt)("li",{parentName:"ul"},"\u76f4\u63a5\u5e7f\u64ad\uff1a\u4f1a\u88ab\u8def\u7531\u8f6c\u53d1\uff0cIP\u5730\u5740\u7684\u7f51\u7edc\u5b57\u6bb5\u5b9a\u4e49\u8fd9\u4e2a\u7f51\u7edc\uff0c\u4e3b\u673a\u5b57\u6bb5\u901a\u5e38\u5168\u4e3a1\uff0c\u5982 ",(0,r.kt)("inlineCode",{parentName:"li"},"192.168.10.255"))))),(0,r.kt)("p",null,"3\u3001UDP \u7ec4\u64ad"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20190422104735038",src:n(86383).Z})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u591a\u64ad\uff08Multicast\uff09\u4e5f\u53eb\u7ec4\u64ad\uff0c\u628a\u4fe1\u606f\u4f20\u9012\u7ed9\u4e00\u7ec4\u76ee\u7684\u5730\u5730\u5740")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5730\u5740\u8303\u56f4\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"224.0.0.0 ~ 239.255.255.255"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"224.0.0.0 ~ 224.0.0.255")," \u4e3a\u6c38\u4e45\u7ec4\u5730\u5740\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"224.0.0.0.0")," \u4fdd\u7559\u4e0d\u5206\u914d\uff0c\u5176\u5b83\u4f9b\u8def\u7531\u534f\u8bae\u4f7f\u7528")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"224.0.1.0 ~ 224.0.1.255")," \u4e3a\u516c\u7528\u7ec4\u64ad\u5730\u5740\uff0c\u53ef\u4ee5\u7528\u4e8e Internet")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"224.0.2.0 ~ 238.255.255.255")," \u4e3a\u7528\u6237\u53ef\u7528\u7684\u7ec4\u64ad\u5730\u5740\uff08\u4e34\u65f6\u7ec4\uff09\uff0c\u5168\u7f51\u8303\u56f4\u6709\u6548\uff0c\u4f7f\u7528\u9700\u8981\u7533\u8bf7")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"239.0.0.0 ~ 239.255.255.255")," \u4e3a\u672c\u5730\u7ba1\u7406\u7ec4\u64ad\u5730\u5740\uff0c\u4ec5\u5728\u7279\u5b9a\u672c\u5730\u8303\u56f4\u6709\u6548"))),(0,r.kt)("h3",{id:"udp-\u4e00\u5bf9\u591a\u901a\u4fe1\u573a\u666f"},"UDP \u4e00\u5bf9\u591a\u901a\u4fe1\u573a\u666f"),(0,r.kt)("p",null,"\u5355\u64ad\u4f20\u8f93\uff08Unicast\uff09\uff1a\u5728\u53d1\u9001\u8005\u548c\u6bcf\u4e00\u63a5\u6536\u8005\u4e4b\u95f4\u5b9e\u73b0",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E7%82%B9%E5%AF%B9%E7%82%B9"},"\u70b9\u5bf9\u70b9"),"\u7f51\u7edc\u8fde\u63a5\u3002\u5982\u679c\u4e00\u53f0\u53d1\u9001\u8005\u540c\u65f6\u7ed9\u591a\u4e2a\u7684\u63a5\u6536\u8005\u4f20\u8f93\u76f8\u540c\u7684\u6570\u636e\uff0c\u4e5f\u5fc5\u987b\u76f8\u5e94\u7684\u590d\u5236\u591a\u4efd\u7684\u76f8\u540c",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%8C%85"},"\u6570\u636e\u5305"),"\u3002\u5982\u679c\u6709\u5927\u91cf",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E4%B8%BB%E6%9C%BA"},"\u4e3b\u673a"),"\u5e0c\u671b\u83b7\u5f97",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%8C%85"},"\u6570\u636e\u5305"),"\u7684\u540c\u4e00\u4efd\u62f7\u8d1d\u65f6\uff0c\u5c06\u5bfc\u81f4\u53d1\u9001\u8005\u8d1f\u62c5\u6c89\u91cd\u3001\u5ef6\u8fdf\u957f\u3001",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E6%8B%A5%E5%A1%9E"},"\u7f51\u7edc\u62e5\u585e"),"\uff1b\u4e3a\u4fdd\u8bc1\u4e00\u5b9a\u7684\u670d\u52a1\u8d28\u91cf\u9700\u589e\u52a0",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E7%A1%AC%E4%BB%B6"},"\u786c\u4ef6"),"\u548c",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E5%B8%A6%E5%AE%BD"},"\u5e26\u5bbd"),"\u3002"),(0,r.kt)("p",null,"\u5e7f\u64ad\uff08Broadcast\uff09\uff1a\u662f\u6307\u5728IP",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E5%AD%90%E7%BD%91"},"\u5b50\u7f51"),"\u5185",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E5%B9%BF%E6%92%AD%E6%95%B0%E6%8D%AE%E5%8C%85"},"\u5e7f\u64ad\u6570\u636e\u5305"),"\uff0c\u6240\u6709\u5728",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E5%AD%90%E7%BD%91"},"\u5b50\u7f51"),"\u5185\u90e8\u7684",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E4%B8%BB%E6%9C%BA"},"\u4e3b\u673a"),"\u90fd\u5c06\u6536\u5230\u8fd9\u4e9b\u6570\u636e\u5305\u3002\u5e7f\u64ad\u610f\u5473\u7740\u7f51\u7edc\u5411\u5b50\u7f51\u6bcf\u4e00\u4e2a",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E4%B8%BB%E6%9C%BA"},"\u4e3b\u673a"),"\u90fd\u6295\u9012\u4e00\u4efd\u6570\u636e\u5305\uff0c\u4e0d\u8bba\u8fd9\u4e9b\u4e3b\u673a\u662f\u5426\u4e50\u4e8e\u63a5\u6536\u8be5\u6570\u636e\u5305\u3002\u6240\u4ee5\u5e7f\u64ad\u7684\u4f7f\u7528\u8303\u56f4\u975e\u5e38\u5c0f\uff0c\u53ea\u5728\u672c\u5730",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E5%AD%90%E7%BD%91"},"\u5b50\u7f51"),"\u5185\u6709\u6548\uff0c\u901a\u8fc7",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8"},"\u8def\u7531\u5668"),"\u548c",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87"},"\u7f51\u7edc\u8bbe\u5907"),"\u63a7\u5236\u5e7f\u64ad\u4f20\u8f93\u3002\u5728\u7f51\u7edc\u4e2d\u7684\u5e94\u7528\u8f83\u591a\uff0c\u5982\u5ba2\u6237\u673a\u901a\u8fc7DHCP\u81ea\u52a8\u83b7\u5f97IP\u5730\u5740\u7684\u8fc7\u7a0b\u5c31\u662f\u901a\u8fc7\u5e7f\u64ad\u6765\u5b9e\u73b0\u7684\u3002\u4f46\u662f\u4e0e\u5355\u64ad\u548c\u591a\u64ad\u76f8\u6bd4\uff0c\u5e7f\u64ad\u51e0\u4e4e\u5360\u7528\u4e86\u5b50\u7f51\u5185\u7f51\u7edc\u7684\u6240\u6709\u5e26\u5bbd"),(0,r.kt)("p",null,"\u7ec4\u64ad\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E7%BB%84%E6%92%AD"},"\u7ec4\u64ad"),"\u89e3\u51b3\u4e86",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E5%8D%95%E6%92%AD"},"\u5355\u64ad"),"\u548c\u5e7f\u64ad\u65b9\u5f0f\u6548\u7387\u4f4e\u7684\u95ee\u9898\u3002\u5f53\u7f51\u7edc\u4e2d\u7684\u67d0\u4e9b\u7528\u6237\u9700\u6c42\u7279\u5b9a\u4fe1\u606f\u65f6\uff0c",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E7%BB%84%E6%92%AD"},"\u7ec4\u64ad"),"\u6e90\uff08\u5373\u7ec4\u64ad\u4fe1\u606f\u53d1\u9001\u8005\uff09\u4ec5\u53d1\u9001\u4e00\u6b21\u4fe1\u606f\uff0c\u7ec4\u64ad",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8"},"\u8def\u7531\u5668"),"\u501f\u52a9\u7ec4\u64ad",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE"},"\u8def\u7531\u534f\u8bae"),"\u4e3a\u7ec4\u64ad",(0,r.kt)("a",{parentName:"p",href:"https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%8C%85"},"\u6570\u636e\u5305"),"\u5efa\u7acb\u6811\u578b\u8def\u7531\uff0c\u88ab\u4f20\u9012\u7684\u4fe1\u606f\u5728\u5c3d\u53ef\u80fd\u8fdc\u7684\u5206\u53c9\u8def\u53e3\u624d\u5f00\u59cb\u590d\u5236\u548c\u5206\u53d1\u3002\u7f51\u4e0a\u89c6\u9891\u4f1a\u8bae\u3001\u7f51\u4e0a\u89c6\u9891\u70b9\u64ad\u7279\u522b\u9002\u5408\u91c7\u7528\u591a\u64ad\u65b9\u5f0f\u3002"),(0,r.kt)("p",null,'1\u3001\u5355\u64ad\u9762\u5bf9 "\u4e00\u5bf9\u591a"'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20190422104807642",src:n(93386).Z})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728\u5355\u64ad\u901a\u4fe1\u4e2d\u6bcf\u4e00\u4e2a\u6570\u636e\u5305\u90fd\u6709\u786e\u5207\u7684\u76ee\u7684IP\u5730\u5740")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5bf9\u4e8e\u540c\u4e00\u4efd\u6570\u636e\uff0c\u5982\u679c\u5b58\u5728\u591a\u4e2a\u63a5\u6536\u8005\uff0cServer \u9700\u53d1\u9001\u4e0e\u63a5\u6536\u8005\u6570\u76ee\u76f8\u540c\u7684\u5355\u64ad\u6570\u636e\u5305")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5f53\u63a5\u6536\u8005\u6210\u767e\u4e0a\u5343\u65f6\uff0c\u5c06\u6781\u5927\u7684\u52a0\u91cd Server \u7684\u8d1f\u62c5"))),(0,r.kt)("p",null,'2\u3001\u5e7f\u64ad\u9762\u5bf9 "\u4e00\u5bf9\u591a"'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20190422104904270",src:n(52063).Z})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5e7f\u64ad\u6570\u636e\u5305\u88ab\u9650\u5236\u5728\u5c40\u57df\u7f51\u4e2d")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e00\u65e6\u6709\u8bbe\u5907\u53d1\u9001\u5e7f\u64ad\u6570\u636e\u5219\u5e7f\u64ad\u57df\u5185\u6240\u6709\u8bbe\u5907\u90fd\u6536\u5230\u8fd9\u4e2a\u6570\u636e\u5305\uff0c\u5e76\u4e14\u4e0d\u5f97\u4e0d\u6d88\u8017\u8d44\u6e90\u53bb\u5904\u7406\uff0c\u5927\u91cf\u7684\u5e7f\u64ad\u6570\u636e\u5305\u5c06\u6d88\u8017\u7f51\u7edc\u7684\u5e26\u5bbd\u53ca\u8bbe\u5907\u8d44\u6e90")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728 IPv6 \u4e2d\uff0c\u5e7f\u64ad\u7684\u62a5\u6587\u4f20\u8f93\u65b9\u5f0f\u88ab\u53d6\u6d88"))),(0,r.kt)("p",null,'3\u3001\u7ec4\u64ad\u9762\u5bf9 "\u4e00\u5bf9\u591a"'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20190422104925185",src:n(11890).Z})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7ec4\u64ad\u975e\u5e38\u9002\u5408\u4e00\u5bf9\u591a\u7684\u6a21\u578b\uff0c\u53ea\u6709\u52a0\u5165\u5230\u7279\u5b9a\u7ec4\u64ad\u7ec4\u7684\u6210\u5458\uff0c\u624d\u4f1a\u63a5\u6536\u5230\u7ec4\u64ad\u6570\u636e\u3002\u5f53\u5b58\u5728\u591a\u4e2a\u7ec4\u64ad\u7ec4\u6210\u5458\u65f6\uff0c\u6e90\u65e0\u9700\u53d1\u9001\u591a\u4e2a\u6570\u636e\u62f7\u8d1d\uff0c\u4ec5\u9700\u53d1\u9001\u4e00\u4efd\u5373\u53ef\uff0c\u7ec4\u64ad\u7f51\u7edc\u8bbe\u5907\u4f1a\u6839\u636e\u5b9e\u9645\u9700\u8981\u8f6c\u53d1\u6216\u62f7\u8d1d\u7ec4\u64ad\u6570\u636e")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6570\u636e\u6d41\u53ea\u53d1\u9001\u7ed9\u52a0\u5165\u8be5\u7ec4\u64ad\u7ec4\u7684\u63a5\u6536\u8005\uff08\u7ec4\u6210\u5458\uff09\uff0c\u800c\u4e0d\u9700\u8981\u8be5\u6570\u636e\u7684\u8bbe\u5907\u4e0d\u4f1a\u6536\u5230\u8be5\u7ec4\u64ad\u6d41\u91cf")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u76f8\u540c\u7684\u7ec4\u64ad\u62a5\u6587\uff0c\u5728\u4e00\u6bb5\u94fe\u8def\u4e0a\u4ec5\u6709\u4e00\u4efd\u6570\u636e\uff0c\u5927\u5927\u63d0\u9ad8\u4e86\u7f51\u7edc\u8d44\u6e90\u7684\u5229\u7528\u7387"))),(0,r.kt)("h2",{id:"node-\u4e2d\u7684-dgram-\u6a21\u5757"},"Node \u4e2d\u7684 dgram \u6a21\u5757"),(0,r.kt)("p",null,"Node \u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86 ",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/dist/latest-v10.x/docs/api/dgram.html"},"dgram")," \u6a21\u5757\u7528\u4e8e\u6784\u5efa UDP \u670d\u52a1\u3002"),(0,r.kt)("p",null,"\u4f7f\u7528\u8be5\u6a21\u5757\u521b\u5efa UDP \u5957\u63a5\u5b57\u975e\u5e38\u7b80\u5355\uff0cUDP \u5957\u63a5\u5b57\u4e00\u65e6\u521b\u5efa\uff0c\u65e2\u53ef\u4ee5\u4f5c\u4e3a\u5ba2\u6237\u7aef\u53d1\u9001\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u670d\u52a1\u5668\u63a5\u6536\u6570\u636e\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const dgram = require('dgram')\nconst socket = dgram.createSocket('udp4')\n")),(0,r.kt)("h3",{id:"socket-\u65b9\u6cd5"},"Socket \u65b9\u6cd5"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"API"),(0,r.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"bind()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u7ed1\u5b9a\u7aef\u53e3\u548c\u4e3b\u673a")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"address()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8fd4\u56de Socket \u5730\u5740\u5bf9\u8c61")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"close()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5173\u95ed Socket \u5e76\u505c\u6b62\u76d1\u542c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"send()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u53d1\u9001\u6d88\u606f")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"addMembership()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6dfb\u52a0\u7ec4\u64ad\u6210\u5458")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"dropMembership()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5220\u9664\u7ec4\u64ad\u6210\u5458")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"setBroadcast()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u662f\u5426\u542f\u52a8\u5e7f\u64ad")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"setTTL()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u6570\u636e\u62a5\u751f\u5b58\u65f6\u95f4")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"setMulticastTTL()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u7ec4\u64ad\u6570\u636e\u62a5\u751f\u5b58\u65f6\u95f4")))),(0,r.kt)("h3",{id:"socket-\u4e8b\u4ef6"},"Socket \u4e8b\u4ef6"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"API"),(0,r.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"listening"),(0,r.kt)("td",{parentName:"tr",align:null},"\u76d1\u542c\u6210\u529f\u65f6\u89e6\u53d1\uff0c\u4ec5\u89e6\u53d1\u4e00\u6b21")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"message"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6536\u5230\u6d88\u606f\u65f6\u89e6\u53d1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"error"),(0,r.kt)("td",{parentName:"tr",align:null},"\u53d1\u751f\u9519\u8bef\u65f6\u89e6\u53d1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"close"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5173\u95ed Socket \u65f6\u89e6\u53d1")))),(0,r.kt)("h2",{id:"\u4f7f\u7528-node-\u5b9e\u73b0-udp-\u5355\u64ad"},"\u4f7f\u7528 Node \u5b9e\u73b0 UDP \u5355\u64ad"),(0,r.kt)("h3",{id:"\u670d\u52a1\u7aef"},"\u670d\u52a1\u7aef"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const dgram = require('dgram')\n\nconst server = dgram.createSocket('udp4')\n\nserver.on('listening', () => {\n  const address = server.address()\n  console.log(`server running ${address.address}:${address.port}`)\n})\n\nserver.on('message', (msg, remoteInfo) => {\n  console.log(`server got ${msg} from ${remoteInfo.address}:${remoteInfo.port}`)\n  server.send('world', remoteInfo.port, remoteInfo.address)\n})\n\nserver.on('error', err => {\n  console.log('server error', err)\n})\n\nserver.bind(3000)\n\n")),(0,r.kt)("h3",{id:"\u5ba2\u6237\u7aef"},"\u5ba2\u6237\u7aef"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const dgram = require('dgram')\n\nconst client = dgram.createSocket('udp4')\n\n// client.send('hello', 3000, 'localhost')\n\nclient.on('listening', () => {\n  const address = client.address()\n  console.log(`client running ${address.address}:${address.port}`)\n\n  client.send('hello', 3000, 'localhost')\n})\n\nclient.on('message', (msg, remoteInfo) => {\n  console.log(`client got ${msg} from ${remoteInfo.address}:${remoteInfo.port}`)\n})\n\nclient.on('error', err => {\n  console.log('client error', err)\n})\n\nclient.bind(8000)\n\n")),(0,r.kt)("h2",{id:"\u4f7f\u7528-node-\u5b9e\u73b0-udp-\u5e7f\u64ad"},"\u4f7f\u7528 Node \u5b9e\u73b0 UDP \u5e7f\u64ad"),(0,r.kt)("h3",{id:"\u670d\u52a1\u7aef-1"},"\u670d\u52a1\u7aef"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const dgram = require('dgram')\n\nconst server = dgram.createSocket('udp4')\n\nserver.on('listening', () => {\n  const address = server.address()\n  \n  console.log(`server running ${address.address}:${address.port}`)\n  \n  server.setBroadcast(true) // \u5f00\u542f\u5e7f\u64ad\u6a21\u5f0f\n  \n  server.send('hello', 8000, '255.255.255.255')\n\n  // \u6bcf\u96942\u79d2\u53d1\u9001\u4e00\u6761\u5e7f\u64ad\u6d88\u606f\n  setInterval(function () {\n    // \u76f4\u63a5\u5730\u5740 192.168.10.255\n    // \u53d7\u9650\u5730\u5740 255.255.255.255\n    server.send('hello', 8000, '192.168.10.255')\n    // server.send('hello', 8000, '255.255.255.255')\n  }, 2000)\n})\n\nserver.on('message', (msg, remoteInfo) => {\n  console.log(`server got ${msg} from ${remoteInfo.address}:${remoteInfo.port}`)\n  server.send('world', remoteInfo.port, remoteInfo.address)\n})\n\nserver.on('error', err => {\n  console.log('server error', err)\n})\n\nserver.bind(3000)\n\n")),(0,r.kt)("h3",{id:"\u5ba2\u6237\u7aef-1"},"\u5ba2\u6237\u7aef"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const dgram = require('dgram')\n\nconst client = dgram.createSocket('udp4')\n\nclient.on('message', (msg, remoteInfo) => {\n  console.log(`client got ${msg} from ${remoteInfo.address}:${remoteInfo.port}`)\n})\n\nclient.on('error', err => {\n  console.log('client error', err)\n})\n\nclient.bind(8000)\n\n")),(0,r.kt)("h2",{id:"\u4f7f\u7528-node-\u5b9e\u73b0-udp-\u7ec4\u64ad"},"\u4f7f\u7528 Node \u5b9e\u73b0 UDP \u7ec4\u64ad"),(0,r.kt)("h3",{id:"\u670d\u52a1\u7aef-2"},"\u670d\u52a1\u7aef"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const dgram = require('dgram')\n\nconst server = dgram.createSocket('udp4')\n\nserver.on('listening', () => {\n  const address = server.address()\n  setInterval(function () {\n    server.send('hello', 8000, '224.0.1.100')\n  }, 2000)\n})\n\nserver.on('message', (msg, remoteInfo) => {\n  console.log(`server got ${msg} from ${remoteInfo.address}:${remoteInfo.port}`)\n  server.send('world', remoteInfo.port, remoteInfo.address)\n})\n\nserver.on('error', err => {\n  console.log('server error', err)\n})\n\nserver.bind(3000)\n\n")),(0,r.kt)("h3",{id:"\u5ba2\u6237\u7aef-2"},"\u5ba2\u6237\u7aef"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const dgram = require('dgram')\n\nconst client = dgram.createSocket('udp4')\n\nclient.on('listening', () => {\n  const address = client.address()\n  console.log(`client running ${address.address}:${address.port}`)\n\n  client.addMembership('224.0.1.100')\n})\n\nclient.on('message', (msg, remoteInfo) => {\n  console.log(`client got ${msg} from ${remoteInfo.address}:${remoteInfo.port}`)\n})\n\nclient.on('error', err => {\n  console.log('client error', err)\n})\n\nclient.bind(8000)\n\n")),(0,r.kt)("h1",{id:"\u7b2c4\u7ae0-\u6784\u5efa-http-\u670d\u52a1"},"\u7b2c4\u7ae0 \u6784\u5efa HTTP \u670d\u52a1"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\xe7\x9b\xb8\xe5\x85\xb3\xe5\x9b\xbe\xe7\x89\x87",src:n(80834).Z})),(0,r.kt)("p",null,"\u5185\u5bb9\u5b89\u6392\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Node \u4e2d\u7684 http \u6a21\u5757"),(0,r.kt)("li",{parentName:"ul"},"\u4f7f\u7528 Node \u6784\u5efa http \u670d\u52a1"),(0,r.kt)("li",{parentName:"ul"},"\u5b9e\u73b0\u4e00\u4e2a\u9759\u6001\u6587\u4ef6\u670d\u52a1\u5668"),(0,r.kt)("li",{parentName:"ul"},"\u4f7f\u7528\u6a21\u677f\u5f15\u64ce\u5904\u7406\u52a8\u6001\u7f51\u9875"),(0,r.kt)("li",{parentName:"ul"},"\u7ed3\u5408\u6570\u636e\u5e93\u6e32\u67d3\u52a8\u6001\u9875\u9762"),(0,r.kt)("li",{parentName:"ul"},"\u5b9e\u73b0\u4e00\u4e2a\u7559\u8a00\u672c\u6848\u4f8b"),(0,r.kt)("li",{parentName:"ul"},"\u7b2c\u4e09\u65b9 HTTP \u670d\u52a1\u6846\u67b6")),(0,r.kt)("h2",{id:"node-\u4e2d\u7684-http-\u6a21\u5757"},"Node \u4e2d\u7684 http \u6a21\u5757"),(0,r.kt)("p",null,"TCP \u548c UDP \u90fd\u5c5e\u4e8e\u7f51\u7edc\u4f20\u8f93\u5c42\u534f\u8bae\uff0c\u5982\u679c\u8981\u6784\u5efa\u9ad8\u6548\u7684\u7f51\u7edc\u5e94\u7528\uff0c\u5c31\u5e94\u8be5\u4ece\u4f20\u8f93\u5c42\u8fdb\u884c\u7740\u624b\u3002\u4f46\u662f\u5bf9\u4e8e\u7ecf\u5178\u7684\u6d4f\u89c8\u5668\u7f51\u9875\u548c\u670d\u52a1\u7aef\u901a\u4fe1\u573a\u666f\uff0c\u5982\u679c\u5355\u7eaf\u7684\u4f7f\u7528\u66f4\u5e95\u5c42\u7684\u4f20\u8f93\u5c42\u534f\u8bae\u5219\u4f1a\u53d8\u5f97\u9ebb\u70e6\u3002"),(0,r.kt)("p",null,"\u6240\u4ee5\u5bf9\u4e8e\u7ecf\u5178\u7684B\uff08Browser\uff09S\uff08Server\uff09\u901a\u4fe1\uff0c\u57fa\u4e8e\u4f20\u8f93\u5c42\u4e4b\u4e0a\u4e13\u95e8\u5236\u5b9a\u4e86\u66f4\u4e0a\u4e00\u5c42\u7684\u901a\u4fe1\u534f\u8bae\uff1aHTTP\uff0c\u7528\u4e8e\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u7aef\u8fdb\u884c\u901a\u4fe1\u3002\u7531\u4e8e HTTP \u534f\u8bae\u672c\u8eab\u5e76\u4e0d\u8003\u8651\u6570\u636e\u5982\u4f55\u4f20\u8f93\u53ca\u5176\u4ed6\u7ec6\u8282\u95ee\u9898\uff0c\u6240\u4ee5\u5c5e\u4e8e\u5e94\u7528\u5c42\u534f\u8bae\u3002"),(0,r.kt)("p",null,"Node \u63d0\u4f9b\u4e86\u57fa\u672c\u7684 http \u548c https \u6a21\u5757\u7528\u4e8e HTTP \u548c HTTPS \u7684\u5c01\u88c5\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const http = require('http')\nconst server = http.createServer()\n\n")),(0,r.kt)("h3",{id:"server-\u5b9e\u4f8b"},"Server \u5b9e\u4f8b"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"API"),(0,r.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Event\uff1a'close'"),(0,r.kt)("td",{parentName:"tr",align:null},"\u670d\u52a1\u5173\u95ed\u65f6\u89e6\u53d1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Event\uff1a'request'"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6536\u5230\u8bf7\u6c42\u6d88\u606f\u65f6\u89e6\u53d1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.close()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5173\u95ed\u670d\u52a1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.listening"),(0,r.kt)("td",{parentName:"tr",align:null},"\u83b7\u53d6\u670d\u52a1\u72b6\u6001")))),(0,r.kt)("h3",{id:"\u8bf7\u6c42\u5bf9\u8c61"},"\u8bf7\u6c42\u5bf9\u8c61"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"API"),(0,r.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"request.method"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bf7\u6c42\u65b9\u6cd5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"request.url"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bf7\u6c42\u8def\u5f84")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"request.headers"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bf7\u6c42\u5934")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"request.httpVersion"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bf7\u6c42HTTP\u534f\u8bae\u7248\u672c")))),(0,r.kt)("h3",{id:"\u54cd\u5e94\u5bf9\u8c61"},"\u54cd\u5e94\u5bf9\u8c61"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"API"),(0,r.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"response.end()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u7ed3\u675f\u54cd\u5e94")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"response.setHeader(name, value)"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u54cd\u5e94\u5934")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"response.removeHeader(name, value)"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5220\u9664\u54cd\u5e94\u5934")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"response.statusCode"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u54cd\u5e94\u72b6\u6001\u7801")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"response.statusMessage"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u54cd\u5e94\u72b6\u6001\u77ed\u8bed")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"response.write()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5199\u5165\u54cd\u5e94\u6570\u636e")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"response.writeHead()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5199\u5165\u54cd\u5e94\u5934")))),(0,r.kt)("h2",{id:"\u4f7f\u7528-node-\u6784\u5efa-http-\u670d\u52a1"},"\u4f7f\u7528 Node \u6784\u5efa http \u670d\u52a1"),(0,r.kt)("h3",{id:"hello-world"},"Hello World"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const http = require('http')\n\nconst hostname = '127.0.0.1'\nconst port = 3000\n\nconst server = http.createServer((req, res) => {\n  res.statusCode = 200\n  res.setHeader('Content-Type', 'text/plain')\n  res.end('Hello World\\n')\n})\n\nserver.listen(port, hostname, () => {\n  console.log(`Server running at http://${hostname}:${port}/`)\n})\n")),(0,r.kt)("h3",{id:"\u6839\u636e\u4e0d\u540c-url-\u5904\u7406\u4e0d\u540c\u8bf7\u6c42"},"\u6839\u636e\u4e0d\u540c url \u5904\u7406\u4e0d\u540c\u8bf7\u6c42"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const http = require('http')\n\nconst hostname = '127.0.0.1'\nconst port = 3000\n\nconst server = http.createServer((req, res) => {\n  const url = req.url\n  if (url === '/') {\n    res.end('Hello World!')\n  } else if (url === '/a') {\n    res.end('Hello a!')\n  } else if (url === '/b') {\n    res.end('Hello b!')\n  } else {\n    res.statusCode = 404\n    res.end('404 Not Found.')\n  }\n})\n\nserver.listen(port, hostname, () => {\n  console.log(`Server running at http://${hostname}:${port}/`)\n})\n\n")),(0,r.kt)("h3",{id:"\u54cd\u5e94-html-\u5185\u5bb9"},"\u54cd\u5e94 HTML \u5185\u5bb9"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const http = require('http')\nconst fs = require('fs')\n\nconst hostname = '127.0.0.1'\nconst port = 3000\n\nconst server = http.createServer((req, res) => {\n  fs.readFile('./index.html', (err, data) => {\n    if (err) {\n      throw err\n    }\n    res.statusCode = 200\n    res.setHeader('Content-Type', 'text/html; charset=utf-8')\n    res.end(data)\n  })\n\n//   res.end(`\n// <h1>Hello World!</h1>\n// <p>\u4f60\u597d\uff0c\u4e16\u754c\uff01</p>\n//   `)\n})\n\nserver.listen(port, hostname, () => {\n  console.log(`Server running at http://${hostname}:${port}/`)\n})\n\n")),(0,r.kt)("h3",{id:"\u5904\u7406\u9875\u9762\u4e2d\u7684\u9759\u6001\u8d44\u6e90"},"\u5904\u7406\u9875\u9762\u4e2d\u7684\u9759\u6001\u8d44\u6e90"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const http = require('http')\nconst fs = require('fs')\n\nconst hostname = '127.0.0.1'\nconst port = 3000\n\nconst server = http.createServer((req, res) => {\n  const url = req.url\n  if (url === '/') {\n    fs.readFile('./index.html', (err, data) => {\n      if (err) {\n        throw err\n      }\n      res.statusCode = 200\n      res.setHeader('Content-Type', 'text/html; charset=utf-8')\n      res.end(data)\n    })\n  } else if (url === '/assets/css/main.css') {\n    fs.readFile('./assets/css/main.css', (err, data) => {\n      if (err) {\n        throw err\n      }\n      res.statusCode = 200\n      res.setHeader('Content-Type', 'text/css; charset=utf-8')\n      res.end(data)\n    })\n  } else if (url === '/assets/js/main.js') {\n    fs.readFile('./assets/js/main.js', (err, data) => {\n      if (err) {\n        throw err\n      }\n      res.statusCode = 200\n      res.setHeader('Content-Type', 'text/javascript; charset=utf-8')\n      res.end(data)\n    })\n  } else {\n    res.statusCode = 404\n    res.setHeader('Content-Type', 'text/plain; charset=utf-8')\n    res.end('404 Not Found.')\n  }\n})\n\nserver.listen(port, hostname, () => {\n  console.log(`Server running at http://${hostname}:${port}/`)\n})\n\n")),(0,r.kt)("h3",{id:"\u7edf\u4e00\u5904\u7406\u9875\u9762\u4e2d\u7684\u9759\u6001\u8d44\u6e90"},"\u7edf\u4e00\u5904\u7406\u9875\u9762\u4e2d\u7684\u9759\u6001\u8d44\u6e90"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const http = require('http')\nconst fs = require('fs')\nconst mime = require('mime')\nconst path = require('path')\n\nconst hostname = '127.0.0.1'\nconst port = 3000\n\nconst server = http.createServer((req, res) => {\n  const url = req.url\n  if (url === '/') {\n    fs.readFile('./index.html', (err, data) => {\n      if (err) {\n        throw err\n      }\n      res.statusCode = 200\n      res.setHeader('Content-Type', 'text/html; charset=utf-8')\n      res.end(data)\n    })\n  } else if (url.startsWith('/assets/')) {\n    // /assets/js/main.js\n    fs.readFile(`.${url}`, (err, data) => {\n      if (err) {\n        res.statusCode = 404\n        res.setHeader('Content-Type', 'text/plain; charset=utf-8')\n        res.end('404 Not Found.')\n      }\n      const contentType = mime.getType(path.extname(url))\n      res.statusCode = 200\n      res.setHeader('Content-Type', contentType)\n      res.end(data)\n    })\n  } else {\n    res.statusCode = 404\n    res.setHeader('Content-Type', 'text/plain; charset=utf-8')\n    res.end('404 Not Found.')\n  }\n})\n\nserver.listen(port, hostname, () => {\n  console.log(`Server running at http://${hostname}:${port}/`)\n})\n\n")),(0,r.kt)("h2",{id:"\u4f7f\u7528\u6a21\u677f\u5f15\u64ce\u5904\u7406\u52a8\u6001\u9875\u9762"},"\u4f7f\u7528\u6a21\u677f\u5f15\u64ce\u5904\u7406\u52a8\u6001\u9875\u9762"),(0,r.kt)("p",null,"\u5047\u5982\u6211\u4eec\u6709\u4e00\u4efd\u6570\u636e ",(0,r.kt)("inlineCode",{parentName:"p"},"todos")," \u9700\u8981\u5c55\u793a\u5230\u9875\u9762\u4e2d"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const todos = [\n  { title: '\u5403\u996d', completed: false },\n  { title: '\u7761\u89c9', completed: true },\n  { title: '\u6253\u8c46\u8c46', completed: false }  \n]\n\n")),(0,r.kt)("p",null,"\u5982\u4f55\u5c06\u4e00\u7ec4\u6570\u636e\u5217\u8868\u5c55\u793a\u5230\u4e00\u4e2a\u9875\u9762\u4e2d\uff0c\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u5c31\u662f\u5b57\u7b26\u4e32\u66ff\u6362\uff0c\u4f46\u662f\u5982\u679c\u6709\u4e0d\u6b62\u4e00\u4efd\u6570\u636e\u9700\u8981\u5c55\u793a\u5230\u9875\u9762\u4e2d\u7684\u65f6\u5019\u5c31\u4f1a\u53d8\u5f97\u975e\u5e38\u9ebb\u70e6\uff0c\u6240\u4ee5\u524d\u4eba\u5c06\u6b64\u79cd\u65b9\u5f0f\u6574\u5408\u89c4\u5219\u4e4b\u540e\u5f00\u53d1\u4e86\u6211\u4eec\u5e38\u89c1\u7684\u6a21\u677f\u5f15\u64ce\u3002"),(0,r.kt)("p",null,"\u4f8b\u5982\u6211\u4eec\u7ecf\u5e38\u5728\u7f51\u9875\u6e90\u7801\u4e2d\u770b\u5230\u4e0b\u9762\u8fd9\u6837\u4e00\u6bb5\u4ee3\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ejs"},"<ul>\n  <% todos.forEach(function (item) { %>\n  <li><%= item.title %></li>\n  <% }) %>\n</ul>\n")),(0,r.kt)("p",null,"\u6216\u8005\u662f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ejs"},"<ul>\n  {{ each todos }}\n  <li>{{ $value.title }}</li>\n  {{ /each }}\n</ul>\n")),(0,r.kt)("p",null,"\u65e0\u8bba\u5982\u4f55\uff0c\u6211\u4eec\u770b\u5230\u7684\u8fd9\u4e9b\u8bed\u6cd5\u90fd\u5728\u6a21\u677f\u5f15\u64ce\u6240\u6307\u5b9a\u7684\u4e00\u4e9b\u89c4\u5219\uff0c\u76ee\u7684\u5c31\u662f\u8ba9\u6211\u4eec\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u5728\u7f51\u9875\u4e2d\u8fdb\u884c\u5b57\u7b26\u4e32\u66ff\u6362\u4ee5\u8fbe\u5230\u52a8\u6001\u7f51\u9875\u7684\u6548\u679c\u3002"),(0,r.kt)("p",null,"\u5728 Node \u4e2d\uff0c\u6709\u5f88\u591a\u4f18\u79c0\u7684\u6a21\u677f\u5f15\u64ce\uff0c\u5b83\u4eec\u5927\u62b5\u76f8\u540c\uff0c\u4f46\u90fd\u5404\u6709\u7279\u70b9"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/marko-js/marko"},"marko")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/mozilla/nunjucks"},"nunjucks")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/wycats/handlebars.js"},"handlebars.js")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/mde/ejs"},"EJS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/pugjs/pug"},"Pug")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/aui/art-template"},"art-template"))),(0,r.kt)("h3",{id:"\u57fa\u672c\u4f7f\u7528"},"\u57fa\u672c\u4f7f\u7528"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const template = require('art-template')\n\n// const ret = template.render('Hello {{ message }}', {\n//   message: 'World'\n// })\n\nconst ret = template.render(`\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\" />\n<title>Document</title>\n</head>\n<body>\n  <h1>Hello {{ message }}</h1>\n  <ul>\n    {{ each todos }}\n    <li>{{ $value.title }} <input type=\"checkbox\" {{ $value.completed ? 'checked' : '' }} /></li>\n    {{ /each }}\n  </ul>\n</body>\n</html>\n`, {\n  message: 'World',\n  todos: [\n    { title: '\u5403\u996d', completed: false },\n    { title: '\u7761\u89c9', completed: true },\n    { title: '\u6253\u8c46\u8c46', completed: false }\n  ]\n})\n\nconsole.log(ret)\n\n")),(0,r.kt)("h3",{id:"\u7ed3\u5408-http-\u670d\u52a1\u6e32\u67d3\u9875\u9762"},"\u7ed3\u5408 http \u670d\u52a1\u6e32\u67d3\u9875\u9762"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const http = require('http')\nconst template = require('art-template')\nconst fs = require('fs')\n\nconst hostname = '127.0.0.1'\nconst port = 3000\n\nconst server = http.createServer((req, res) => {\n  const url = req.url\n  if (url === '/') {\n    fs.readFile('./index2.html', (err, data) => {\n      if (err) {\n        throw err\n      }\n      const htmlStr = template.render(data.toString(), {\n        message: '\u9ed1\u9a6c\u7a0b\u5e8f\u5458',\n        todos: [\n          { title: '\u5403\u996d', completed: true },\n          { title: '\u7761\u89c9', completed: true },\n          { title: '\u6253\u8c46\u8c46', completed: false }\n        ]\n      })\n      res.statusCode = 200\n      res.setHeader('Content-Type', 'text/html')\n      res.end(htmlStr)\n    })\n  }\n})\n\nserver.listen(port, hostname, () => {\n  console.log(`Server running at http://${hostname}:${port}/`)\n})\n\n")),(0,r.kt)("h2",{id:"\u5b9e\u73b0\u4e00\u4e2a\u9759\u6001\u6587\u4ef6\u670d\u52a1\u5668"},"\u5b9e\u73b0\u4e00\u4e2a\u9759\u6001\u6587\u4ef6\u670d\u52a1\u5668"),(0,r.kt)("h2",{id:"\u4f7f\u7528\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e"},"\u4f7f\u7528\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e"),(0,r.kt)("h2",{id:"\u5b9e\u73b0\u4e00\u4e2a\u7559\u8a00\u672c\u6848\u4f8b"},"\u5b9e\u73b0\u4e00\u4e2a\u7559\u8a00\u672c\u6848\u4f8b"),(0,r.kt)("h2",{id:"\u7b2c\u4e09\u65b9-http-\u670d\u52a1\u6846\u67b6"},"\u7b2c\u4e09\u65b9 HTTP \u670d\u52a1\u6846\u67b6"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"http://expressjs.com/"},"Express")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"http://koajs.com/"},"Koa")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/thinkjs/thinkjs"},"ThinkJS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://eggjs.org/"},"Egg")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"http://adonisjs.com/"},"AdonisJs")),(0,r.kt)("li",{parentName:"ul"},"...")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u66f4\u591a\u4f18\u79c0\u7684\u7b2c\u4e09\u65b9\u8d44\u6e90 ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/sindresorhus/awesome-nodejs#web-frameworks"},"awesome node.js"))),(0,r.kt)("h1",{id:"\u7b2c5\u7ae0-\u6784\u5efa-https-\u670d\u52a1"},"\u7b2c5\u7ae0 \u6784\u5efa HTTPS \u670d\u52a1"),(0,r.kt)("h2",{id:"\u5360\u4f4d"},"\u5360\u4f4d"),(0,r.kt)("h1",{id:"\u7b2c6\u7ae0-\u6784\u5efa-websocket-\u670d\u52a1"},"\u7b2c6\u7ae0 \u6784\u5efa WebSocket \u670d\u52a1"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u672c\u7ae0\u5185\u5bb9",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5ba2\u6237\u7aef WebSocket"),(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u7aef WebSocket"),(0,r.kt)("li",{parentName:"ul"},"Socket.IO"))),(0,r.kt)("li",{parentName:"ul"},"\u5b66\u4e60\u76ee\u6807",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4e86\u89e3\u4ec0\u4e48\u662f WebSocket"),(0,r.kt)("li",{parentName:"ul"},"\u638c\u63e1\u5ba2\u6237\u7aef WebSocket \u7684\u57fa\u672c\u4f7f\u7528"),(0,r.kt)("li",{parentName:"ul"},"\u638c\u63e1\u670d\u52a1\u7aef WebSocket \u7684\u57fa\u672c\u4f7f\u7528"),(0,r.kt)("li",{parentName:"ul"},"\u638c\u63e1 SOCKET.IO \u7684\u57fa\u672c\u4f7f\u7528")))),(0,r.kt)("h3",{id:"websocket-\u4ecb\u7ecd"},"WebSocket \u4ecb\u7ecd"),(0,r.kt)("p",null,"\u7c7b\u4f3c\u4e8e HTTP\uff0c ",(0,r.kt)("a",{parentName:"p",href:"http://websocket.org/"},"WebSocket")," \u662f\u4e00\u79cd\u7f51\u7edc\u901a\u4fe1\u534f\u8bae\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"img",src:n(86957).Z})),(0,r.kt)("h4",{id:"\u4e3a\u4ec0\u4e48\u9700\u8981-websocket"},"\u4e3a\u4ec0\u4e48\u9700\u8981 WebSocket"),(0,r.kt)("p",null,"\u6211\u4eec\u5df2\u7ecf\u6709\u4e86 HTTP \u534f\u8bae\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u9700\u8981\u53e6\u4e00\u4e2a\u534f\u8bae\uff1f\u5b83\u80fd\u5e26\u6765\u4ec0\u4e48\u597d\u5904\uff1f"),(0,r.kt)("p",null,"\u7b54\u6848\u5f88\u7b80\u5355\uff0c\u56e0\u4e3a HTTP \u534f\u8bae\u6709\u4e00\u4e2a\u7f3a\u9677\uff1a\u901a\u4fe1\u53ea\u80fd\u7531\u5ba2\u6237\u7aef\u53d1\u8d77\uff0c\u6ca1\u6709\u8bf7\u6c42\u5c31\u6ca1\u6709\u54cd\u5e94\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"http://assets.processon.com/chart_image/5c6e6c00e4b0c4e2165c1645.png",alt:null})),(0,r.kt)("p",null,"\u4e3e\u4f8b\u6765\u8bf4\uff0c\u6211\u4eec\u60f3\u4e86\u89e3\u4eca\u5929\u7684\u5929\u6c14\uff0c\u53ea\u80fd\u662f\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1\u51fa\u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u67e5\u8be2\u7ed3\u679c\u3002HTTP \u534f\u8bae\u505a\u4e0d\u5230\u670d\u52a1\u5668\u4e3b\u52a8\u5411\u5ba2\u6237\u7aef\u63a8\u9001\u4fe1\u606f\u3002"),(0,r.kt)("p",null,"\u8fd9\u79cd\u5355\u5411\u8bf7\u6c42\u7684\u7279\u70b9\uff0c\u6ce8\u5b9a\u4e86\u5982\u679c\u670d\u52a1\u5668\u6709\u8fde\u7eed\u7684\u72b6\u6001\u53d8\u5316\uff0c\u5ba2\u6237\u7aef\u8981\u83b7\u77e5\u5c31\u975e\u5e38\u9ebb\u70e6\u3002\u6211\u4eec\u53ea\u80fd\u4f7f\u7528",(0,r.kt)("a",{parentName:"p",href:"https://www.pubnub.com/blog/2014-12-01-http-long-polling/"},'"\u8f6e\u8be2"'),"\uff1a\u6bcf\u9694\u4e00\u6bb5\u65f6\u5019\uff0c\u5c31\u53d1\u51fa\u4e00\u4e2a\u8be2\u95ee\uff0c\u4e86\u89e3\u670d\u52a1\u5668\u6709\u6ca1\u6709\u65b0\u7684\u4fe1\u606f\u3002\u6700\u5178\u578b\u7684\u573a\u666f\u5c31\u662f\u804a\u5929\u5ba4\u3002"),(0,r.kt)("p",null,"\u8f6e\u8be2\u7684\u6548\u7387\u4f4e\uff0c\u975e\u5e38\u6d6a\u8d39\u8d44\u6e90\uff08\u56e0\u4e3a\u5fc5\u987b\u4e0d\u505c\u8fde\u63a5\uff0c\u6216\u8005 HTTP \u8fde\u63a5\u59cb\u7ec8\u6253\u5f00\uff09\u3002\u56e0\u6b64\uff0c\u5de5\u7a0b\u5e08\u4eec\u4e00\u76f4\u5728\u601d\u8003\uff0c\u6709\u6ca1\u6709\u66f4\u597d\u7684\u65b9\u6cd5\u3002WebSocket \u5c31\u662f\u8fd9\u6837\u53d1\u660e\u7684\u3002"),(0,r.kt)("h4",{id:"\u4ec0\u4e48\u662f-websocket"},"\u4ec0\u4e48\u662f WebSocket"),(0,r.kt)("p",null,"WebSocket \u534f\u8bae\u57282008\u5e74\u8bde\u751f\uff0c2011\u5e74\u6210\u4e3a\u56fd\u9645\u6807\u51c6\u3002\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u5df2\u7ecf\u652f\u6301\u4e86\u3002"),(0,r.kt)("p",null,"\u5b83\u7684\u6700\u5927\u7279\u70b9\u5c31\u662f\uff0c\u670d\u52a1\u5668\u53ef\u4ee5\u4e3b\u52a8\u5411\u5ba2\u6237\u7aef\u63a8\u9001\u4fe1\u606f\uff0c\u5ba2\u6237\u7aef\u4e5f\u53ef\u4ee5\u4e3b\u52a8\u5411\u670d\u52a1\u5668\u53d1\u9001\u4fe1\u606f\uff0c\u662f\u771f\u6b63\u7684\u53cc\u5411\u5e73\u7b49\u5bf9\u8bdd\uff0c\u5c5e\u4e8e",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Push_technology"},"\u670d\u52a1\u5668\u63a8\u9001\u6280\u672f"),"\u7684\u4e00\u79cd\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"img",src:n(16635).Z})),(0,r.kt)("p",null,"\u5176\u4ed6\u7279\u70b9\u5305\u62ec\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5efa\u7acb\u5728 TCP \u534f\u8bae\u4e4b\u4e0a\uff0c\u670d\u52a1\u5668\u7aef\u7684\u5b9e\u73b0\u6bd4\u8f83\u5bb9\u6613\u3002")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u4e0e HTTP \u534f\u8bae\u6709\u7740\u826f\u597d\u7684\u517c\u5bb9\u6027\u3002\u9ed8\u8ba4\u7aef\u53e3\u4e5f\u662f80\u548c443\uff0c\u5e76\u4e14\u63e1\u624b\u9636\u6bb5\u91c7\u7528 HTTP \u534f\u8bae\uff0c\u56e0\u6b64\u63e1\u624b\u65f6\u4e0d\u5bb9\u6613\u5c4f\u853d\uff0c\u80fd\u901a\u8fc7\u5404\u79cd HTTP \u4ee3\u7406\u670d\u52a1\u5668\u3002")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6570\u636e\u683c\u5f0f\u6bd4\u8f83\u8f7b\u91cf\uff0c\u6027\u80fd\u5f00\u9500\u5c0f\uff0c\u901a\u4fe1\u9ad8\u6548\u3002")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u53ef\u4ee5\u53d1\u9001\u6587\u672c\uff0c\u4e5f\u53ef\u4ee5\u53d1\u9001\u4e8c\u8fdb\u5236\u6570\u636e\u3002")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6ca1\u6709\u540c\u6e90\u9650\u5236\uff0c\u5ba2\u6237\u7aef\u53ef\u4ee5\u4e0e\u4efb\u610f\u670d\u52a1\u5668\u901a\u4fe1\u3002")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u534f\u8bae\u6807\u8bc6\u7b26\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"ws"),"\uff08\u5982\u679c\u52a0\u5bc6\uff0c\u5219\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"wss"),"\uff09\uff0c\u670d\u52a1\u5668\u7f51\u5740\u5c31\u662f URL\u3002"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ws://example.com:80/some/path\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"img",src:n(8168).Z})),(0,r.kt)("h3",{id:"\u5ba2\u6237\u7aef-websocket"},"\u5ba2\u6237\u7aef WebSocket"),(0,r.kt)("h4",{id:"\u57fa\u672c\u793a\u4f8b-1"},"\u57fa\u672c\u793a\u4f8b"),(0,r.kt)("p",null,"\u5728\u6d4f\u89c8\u5668\u4e2d\u63d0\u4f9b\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"WebSocket")," \u5bf9\u8c61\u7528\u4e8e\u521b\u5efa\u548c\u7ba1\u7406 ",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebSockets_API"},"WebSocket")," \u8fde\u63a5\uff0c\u4ee5\u53ca\u53ef\u4ee5\u901a\u8fc7\u8be5\u8fde\u63a5\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\u7684 API\u3002"),(0,r.kt)("p",null,"\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u793a\u4f8b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'var ws = new WebSocket("wss://echo.websocket.org");\n\nws.onopen = function(evt) { \n  console.log("Connection open ..."); \n  ws.send("Hello WebSockets!");\n};\n\nws.onmessage = function(evt) {\n  console.log( "Received Message: " + evt.data);\n  ws.close();\n};\n\nws.onclose = function(evt) {\n  console.log("Connection closed.");\n};\n')),(0,r.kt)("h4",{id:"\u5e38\u7528-api"},"\u5e38\u7528 API"),(0,r.kt)("h5",{id:"websocket-\u6784\u9020\u51fd\u6570"},"WebSocket \u6784\u9020\u51fd\u6570"),(0,r.kt)("p",null,"WebSocket \u5bf9\u8c61\u4f5c\u4e3a\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u7528\u4e8e\u65b0\u5efa WebSocket \u5b9e\u4f8b\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"var ws = new WebSocket('ws://localhost:8080');\n")),(0,r.kt)("p",null,"\u6267\u884c\u4e0a\u9762\u8bed\u53e5\u4e4b\u540e\uff0c\u5ba2\u6237\u7aef\u5c31\u4f1a\u4e0e\u670d\u52a1\u5668\u8fdb\u884c\u8fde\u63a5\u3002"),(0,r.kt)("h5",{id:"\u4e8b\u4ef6-onopen"},"\u4e8b\u4ef6\uff1a onopen"),(0,r.kt)("p",null,"\u5b9e\u4f8b\u5bf9\u8c61\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"onopen"),"\u5c5e\u6027\uff0c\u7528\u4e8e\u6307\u5b9a\u8fde\u63a5\u6210\u529f\u540e\u7684\u56de\u8c03\u51fd\u6570\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"ws.onopen = function () {\n  \n  // \u53d1\u9001\u6d88\u606f\u4e00\u5b9a\u8981\u5728\u5efa\u7acb\u8fde\u63a5\u6210\u529f\u4ee5\u540e\n  ws.send('Hello Server!');\n}\n\n")),(0,r.kt)("p",null,"\u5982\u679c\u8981\u6307\u5b9a\u591a\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u53ef\u4ee5\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"addEventListener"),"\u65b9\u6cd5\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"ws.addEventListener('open', function (event) {\n  ws.send('Hello Server!');\n});\n\n")),(0,r.kt)("h5",{id:"\u4e8b\u4ef6-onclose"},"\u4e8b\u4ef6\uff1a onclose"),(0,r.kt)("p",null,"\u5b9e\u4f8b\u5bf9\u8c61\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"onclose"),"\u5c5e\u6027\uff0c\u7528\u4e8e\u6307\u5b9a\u8fde\u63a5\u5173\u95ed\u540e\u7684\u56de\u8c03\u51fd\u6570\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'ws.onclose = function(event) {\n  var code = event.code;\n  var reason = event.reason;\n  var wasClean = event.wasClean;\n  // handle close event\n};\n\nws.addEventListener("close", function(event) {\n  var code = event.code;\n  var reason = event.reason;\n  var wasClean = event.wasClean;\n  // handle close event\n});\n')),(0,r.kt)("h5",{id:"\u4e8b\u4ef6-onmessage"},"\u4e8b\u4ef6\uff1a onmessage"),(0,r.kt)("p",null,"\u5b9e\u4f8b\u5bf9\u8c61\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"onmessage"),"\u5c5e\u6027\uff0c\u7528\u4e8e\u6307\u5b9a\u6536\u5230\u670d\u52a1\u5668\u6570\u636e\u540e\u7684\u56de\u8c03\u51fd\u6570\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'ws.onmessage = function(event) {\n  var data = event.data;\n  // \u5904\u7406\u6570\u636e\n};\n\nws.addEventListener("message", function(event) {\n  var data = event.data;\n  // \u5904\u7406\u6570\u636e\n});\n')),(0,r.kt)("p",null,"\u6ce8\u610f\uff0c\u670d\u52a1\u5668\u6570\u636e\u53ef\u80fd\u662f\u6587\u672c\uff0c\u4e5f\u53ef\u80fd\u662f\u4e8c\u8fdb\u5236\u6570\u636e\uff08",(0,r.kt)("inlineCode",{parentName:"p"},"blob"),"\u5bf9\u8c61\u6216",(0,r.kt)("inlineCode",{parentName:"p"},"Arraybuffer"),"\u5bf9\u8c61\uff09\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'ws.onmessage = function(event){\n  if(typeof event.data === String) {\n    console.log("Received data string");\n  }\n\n  if(event.data instanceof ArrayBuffer){\n    var buffer = event.data;\n    console.log("Received arraybuffer");\n  }\n}\n')),(0,r.kt)("p",null,"\u9664\u4e86\u52a8\u6001\u5224\u65ad\u6536\u5230\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"binaryType"),"\u5c5e\u6027\uff0c\u663e\u5f0f\u6307\u5b9a\u6536\u5230\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u7c7b\u578b\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'// \u6536\u5230\u7684\u662f blob \u6570\u636e\nws.binaryType = "blob";\nws.onmessage = function(e) {\n  console.log(e.data.size);\n};\n\n// \u6536\u5230\u7684\u662f ArrayBuffer \u6570\u636e\nws.binaryType = "arraybuffer";\nws.onmessage = function(e) {\n  console.log(e.data.byteLength);\n};\n')),(0,r.kt)("h5",{id:"\u4e8b\u4ef6onerror"},"\u4e8b\u4ef6\uff1aonerror"),(0,r.kt)("p",null,"\u5b9e\u4f8b\u5bf9\u8c61\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"onerror"),"\u5c5e\u6027\uff0c\u7528\u4e8e\u6307\u5b9a\u62a5\u9519\u65f6\u7684\u56de\u8c03\u51fd\u6570\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'socket.onerror = function(event) {\n  // handle error event\n};\n\nsocket.addEventListener("error", function(event) {\n  // handle error event\n});\n')),(0,r.kt)("h5",{id:"\u65b9\u6cd5send"},"\u65b9\u6cd5\uff1asend()"),(0,r.kt)("p",null,"\u5b9e\u4f8b\u5bf9\u8c61\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"send()"),"\u65b9\u6cd5\u7528\u4e8e\u5411\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"ws.send('your message');\n")),(0,r.kt)("p",null,"\u53d1\u9001 Blob \u5bf9\u8c61\u7684\u4f8b\u5b50\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"var file = document\n  .querySelector('input[type=\"file\"]')\n  .files[0];\nws.send(file);\n")),(0,r.kt)("p",null,"\u53d1\u9001 ArrayBuffer \u5bf9\u8c61\u7684\u4f8b\u5b50\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// Sending canvas ImageData as ArrayBuffer\nvar img = canvas_context.getImageData(0, 0, 400, 320);\nvar binary = new Uint8Array(img.data.length);\nfor (var i = 0; i < img.data.length; i++) {\n  binary[i] = img.data[i];\n}\nws.send(binary.buffer);\n")),(0,r.kt)("h5",{id:"\u65b9\u6cd5close"},"\u65b9\u6cd5\uff1aclose()"),(0,r.kt)("p",null,"\u5b9e\u4f8b\u5bf9\u8c61\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"close()")," \u65b9\u6cd5\u7528\u4e8e\u5173\u95ed\u8fde\u63a5\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"ws.close()\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u8fde\u63a5\u5173\u95ed\u4e4b\u540e\u4f1a\u89e6\u53d1\u5b9e\u4f8b\u5bf9\u8c61\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"onclose")," \u4e8b\u4ef6\u3002")),(0,r.kt)("h5",{id:"\u5b9e\u4f8b\u5c5e\u6027bufferedamount"},"\u5b9e\u4f8b\u5c5e\u6027\uff1abufferedAmount"),(0,r.kt)("p",null,"\u5b9e\u4f8b\u5bf9\u8c61\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"bufferedAmount"),"\u5c5e\u6027\uff0c\u8868\u793a\u8fd8\u6709\u591a\u5c11\u5b57\u8282\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u6ca1\u6709\u53d1\u9001\u51fa\u53bb\u3002\u5b83\u53ef\u4ee5\u7528\u6765\u5224\u65ad\u53d1\u9001\u662f\u5426\u7ed3\u675f\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"var data = new ArrayBuffer(10000000);\nsocket.send(data);\n\nif (socket.bufferedAmount === 0) {\n  // \u53d1\u9001\u5b8c\u6bd5\n} else {\n  // \u53d1\u9001\u8fd8\u6ca1\u7ed3\u675f\n}\n")),(0,r.kt)("h3",{id:"\u670d\u52a1\u7aef-websocket-\u5b9e\u73b0"},"\u670d\u52a1\u7aef WebSocket \u5b9e\u73b0"),(0,r.kt)("p",null,"WebSocket \u670d\u52a1\u5668\u7684\u5b9e\u73b0\uff0c\u53ef\u4ee5\u67e5\u770b\u7ef4\u57fa\u767e\u79d1\u7684",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Comparison_of_WebSocket_implementations"},"\u5217\u8868"),"\u3002"),(0,r.kt)("p",null,"\u5e38\u7528\u7684 Node \u5b9e\u73b0\u6709\u4ee5\u4e0b\u4e09\u79cd\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/uWebSockets/uWebSockets"},"\xb5WebSockets")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"http://socket.io/"},"Socket.IO"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u7aef\u5b9e\u73b0",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u63d0\u4f9b\u4e86\u5bf9\u6240\u6709\u6d41\u884c\u7684\u670d\u52a1\u7aef\u7684\u652f\u6301\uff0c\u4f8b\u5982 Java\u3001PHP\u3001Python\u3001Node.js \u7b49"))),(0,r.kt)("li",{parentName:"ul"},"\u5ba2\u6237\u7aef\u5b9e\u73b0",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6d4f\u89c8\u5668"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/theturtle32/WebSocket-Node"},"WebSocket-Node"))),(0,r.kt)("p",null,"\u5177\u4f53\u7684\u7528\u6cd5\u8bf7\u67e5\u770b\u5b83\u4eec\u7684\u6587\u6863\uff0c\u8fd9\u91cc\u6211\u4eec\u4ee5 Socket.IO \u4e3a\u4f8b\u3002"),(0,r.kt)("h3",{id:"\u7efc\u5408\u6848\u4f8b\u804a\u5929\u5ba4"},"\u7efc\u5408\u6848\u4f8b\uff1a\u804a\u5929\u5ba4"),(0,r.kt)("h4",{id:"\u6848\u4f8b\u6f14\u793a"},"\u6848\u4f8b\u6f14\u793a"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://socket.io/demos/chat/"},"https://socket.io/demos/chat/")),(0,r.kt)("h4",{id:"\u5f00\u59cb"},"\u5f00\u59cb"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u521b\u5efa\u9879\u76ee\u76ee\u5f55 ",(0,r.kt)("inlineCode",{parentName:"p"},"chat"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"npm init -y")," \u521d\u59cb\u5316 ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," \u6587\u4ef6")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"npm install express"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5199\u5165\u4ee5\u4e0b\u4ee3\u7801"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const express = require('express')\nconst app = express()\nconst http = require('http').Server(app)\n\napp.get('/', function(req, res){\n  res.send('<h1>Hello world</h1>');\n})\n\nhttp.listen(3000, () => {\n  console.log('listening on *:3000')\n})\n\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u542f\u52a8\u670d\u52a1\u6d4b\u8bd5"),(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u9759\u6001\u7f51\u9875")),(0,r.kt)("p",null,"\u5c06 ",(0,r.kt)("inlineCode",{parentName:"p"},"app.get(/)")," \u4ee3\u7801\u66ff\u6362\u4e3a\u4ee5\u4e0b\u5185\u5bb9"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"app.use(express.static('./public'))\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6d4b\u8bd5\u9875\u9762\u8bbf\u95ee"),(0,r.kt)("li",{parentName:"ul"},"\u4f7f\u7528 Socket.IO",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5b89\u88c5 ",(0,r.kt)("inlineCode",{parentName:"li"},"npm i socket.io")))),(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u7aef\u4ee3\u7801\u4fee\u6539\u5982\u4e0b")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const express = require('express')\nconst app = express()\nconst http = require('http').Server(app)\nconst io = require('socket.io')(http)\n\napp.use(express.static('./public/'))\n\nio.on('connection', socket => {\n  console.log('a user connected');\n})\n\nhttp.listen(3000, () => {\n  console.log('listening on *:3000')\n})\n\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5728\u7f51\u9875\u4e2d")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<script src="/socket.io/socket.io.js"><\/script>\n<script>\n  // \u9ed8\u8ba4\u94fe\u63a5\u5f53\u524d\u7f51\u9875\u5730\u5740\uff0c\u4e5f\u5c31\u662f ws://localhost:3000\n  var socket = io()\n<\/script>\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5237\u65b0\u7f51\u9875\u6d4b\u8bd5\u6548\u679c"),(0,r.kt)("li",{parentName:"ul"},"\u6bcf\u4e00\u4e2a socket \u90fd\u6709\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"li"},"disconnect")," \u4e8b\u4ef6")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"io.on('connection', function(socket){\n  console.log('a user connected')\n  socket.on('disconnect', () => {\n    console.log('user disconnected')\n  })\n})\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5237\u65b0\u7f51\u9875\u6d4b\u8bd5\u6548\u679c"),(0,r.kt)("li",{parentName:"ul"},"\u5ba2\u6237\u7aef\u53d1\u9001\u6d88\u606f")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"socket.emit('chat message', 'hello');\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u7aef\u63a5\u6536\u6d88\u606f")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"socket.on('chat message', function(msg){\n  console.log('message: ' + msg);\n});\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6d4b\u8bd5"),(0,r.kt)("li",{parentName:"ul"},"\u7ed9\u5f53\u524d\u8fde\u63a5 socket \u53d1\u9001\u6d88\u606f")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"socket.emit('request', '\u6d88\u606f');\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u7aef\u53d1\u9001\u5e7f\u64ad\u6d88\u606f")),(0,r.kt)("p",null,"\u5982\u679c\u4f60\u60f3\u5411\u9664\u4e86\u67d0\u4e2a\u5957\u63a5\u5b57\u4ee5\u5916\u7684\u6240\u6709\u4eba\u53d1\u9001\u6d88\u606f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"socket.broadcast.emit('hi');\n")),(0,r.kt)("p",null,"\u5c06\u6d88\u606f\u53d1\u9001\u7ed9\u6240\u6709\u4eba\uff0c\u5305\u62ec\u53d1\u9001\u6d88\u606f\u7684\u5ba2\u6237\u7aef"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"io.emit('chat message', msg)\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5ba2\u6237\u7aef\u63a5\u6536\u6d88\u606f")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"socket.on('chat message', function(msg){\n  $('#messages').append($('<li>').text(msg));\n});\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6d4b\u8bd5")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5176\u5b83\u529f\u80fd")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5f53\u6709\u4eba\u8fde\u63a5\u6216\u65ad\u5f00\u8fde\u63a5\u65f6\uff0c\u5411\u8fde\u63a5\u7684\u7528\u6237\u5e7f\u64ad\u6d88\u606f")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6dfb\u52a0\u5bf9\u6635\u79f0\u7684\u652f\u6301")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e0d\u8981\u5411\u53d1\u9001\u5b83\u7684\u7528\u6237\u53d1\u9001\u76f8\u540c\u7684\u6d88\u606f\u3002\u800c\u662f\u5728\u4ed6\u6309\u4e0b\u56de\u8f66\u540e\u76f4\u63a5\u9644\u52a0\u6d88\u606f")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6dfb\u52a0\u201c{user}\u6b63\u5728\u8f93\u5165\u201d\u529f\u80fd\u3002 \u663e\u793a\u8c01\u5728\u7ebf\u3002 \u6dfb\u52a0\u79c1\u4eba\u6d88\u606f\u3002 \u5206\u4eab\u60a8\u7684\u6539\u8fdb\uff01"))),(0,r.kt)("h4",{id:"\u7528\u6237\u6ce8\u518c"},"\u7528\u6237\u6ce8\u518c"),(0,r.kt)("h4",{id:"\u53d1\u9001\u6d88\u606f"},"\u53d1\u9001\u6d88\u606f"),(0,r.kt)("h4",{id:"\u603b\u7ed3-1"},"\u603b\u7ed3"),(0,r.kt)("h3",{id:"\u76f8\u5173\u94fe\u63a5"},"\u76f8\u5173\u94fe\u63a5"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebSocket"},"MDN WebSocket")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://socket.io/"},"SOCKET.IO \u5b98\u7f51")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/socketio/socket.io"},"SOCKET.IO GitHub\u4ed3\u5e93")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"http://www.ruanyifeng.com/blog/2017/05/websocket.html"},"WebSocket \u6559\u7a0b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"http://websocket.org/echo.html"},"WebSocket Echo Test"))))}c.isMDXComponent=!0},51316:function(e,t,n){t.Z=n.p+"assets/images/TCP_vs_UDP-72de6ad9a8032cdaeab8ea4621dc64c6.JPG"},86957:function(e,t){t.Z="data:image/png;base64,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"},16635:function(e,t,n){t.Z=n.p+"assets/images/bg2017051502-1ad6464cd506ee252daf9d410906843f.png"},8168:function(e,t,n){t.Z=n.p+"assets/images/bg2017051503-e43b9061d26e8d34fce4db9c12266760.jpg"},76602:function(e,t,n){t.Z=n.p+"assets/images/image-20190422104032626-2efd12699d134c31a9e89d8b0bfcd0df.png"},67541:function(e,t,n){t.Z=n.p+"assets/images/image-20190422104655365-1db61d3cb8550f9908409e08885636a3.png"},86383:function(e,t,n){t.Z=n.p+"assets/images/image-20190422104735038-85ad724492b12acbd4d6c953770de5d8.png"},93386:function(e,t,n){t.Z=n.p+"assets/images/image-20190422104807642-b5af763326377f01217cbcea4e7e17e6.png"},52063:function(e,t,n){t.Z=n.p+"assets/images/image-20190422104904270-0a067c105736d4875a668a3c752a1bbd.png"},11890:function(e,t,n){t.Z=n.p+"assets/images/image-20190422104925185-a9c0a5f8ce1ecf2d7dbd3fdd751cc259.png"},53263:function(e,t,n){t.Z=n.p+"assets/images/socket-8650953294aba5b66217f01ed9d36c8e.jpg"},9643:function(e,t,n){t.Z=n.p+"assets/images/socketmodel-0a6b95b327851d9bc7ad7437fa80fba6.jpg"},80834:function(e,t,n){t.Z=n.p+"assets/images/status-code-8197784c2405b5290c74b06b66f45f63.jpg"},18148:function(e,t,n){t.Z=n.p+"assets/images/three-87edf7c59e02c507d8f5902523a50213.jpg"},45288:function(e,t,n){t.Z=n.p+"assets/images/\u7f51\u7edc\u4e03\u5c42\u6a21\u578b-508ee92ed185d4e070bb01cb28bf8cff.png"},37085:function(e,t,n){t.Z=n.p+"assets/images/\u7f51\u7edc\u4e94\u5c42\u6a21\u578b-c5fdf403062d2f106135c73b80108c05.png"}}]);